import{ab as E,aj as j,r as o,ad as x,aO as F}from"./index.95644e87.js";function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},f.apply(this,arguments)}function S(e,t){if(e==null)return{};var a={},r=Object.keys(e),n,i;for(i=0;i<r.length;i++)n=r[i],!(t.indexOf(n)>=0)&&(a[n]=e[n]);return a}function _(e){var t=e.loading,a=e.src,r=e.srcSet,n=e.onLoad,i=e.onError,d=e.crossOrigin,h=e.sizes,u=e.ignoreFallback,v=o.exports.useState("pending"),m=v[0],g=v[1];o.exports.useEffect(function(){g(a?"loading":"pending")},[a]);var c=o.exports.useRef(),b=o.exports.useCallback(function(){if(!!a){s();var l=new Image;l.src=a,d&&(l.crossOrigin=d),r&&(l.srcset=r),h&&(l.sizes=h),t&&(l.loading=t),l.onload=function(k){s(),g("loaded"),n==null||n(k)},l.onerror=function(k){s(),g("failed"),i==null||i(k)},c.current=l}},[a,d,r,h,n,i,t]),s=function(){c.current&&(c.current.onload=null,c.current.onerror=null,c.current=null)};return F(function(){if(!u)return m==="loading"&&b(),function(){s()}},[m,b,u]),u?"loaded":m}var I=["htmlWidth","htmlHeight","alt"],w=["fallbackSrc","fallback","src","srcSet","align","fit","loading","ignoreFallback","crossOrigin"],O=o.exports.forwardRef(function(e,t){var a=e.htmlWidth,r=e.htmlHeight,n=e.alt,i=S(e,I);return o.exports.createElement("img",f({width:a,height:r,ref:t,alt:n},i))}),L=E(function(e,t){var a=e.fallbackSrc,r=e.fallback,n=e.src,i=e.srcSet,d=e.align,h=e.fit,u=e.loading,v=e.ignoreFallback,m=e.crossOrigin,g=S(e,w),c=u!=null||v||a===void 0&&r===void 0,b=_(f({},e,{ignoreFallback:c})),s=f({ref:t,objectFit:h,objectPosition:d},c?g:j(g,["onError","onLoad"]));return b!=="loaded"?r||o.exports.createElement(x.img,f({as:O,className:"chakra-image__placeholder",src:a},s)):o.exports.createElement(x.img,f({as:O,src:n,srcSet:i,crossOrigin:m,loading:u,className:"chakra-image"},s))});export{L as I,_ as u};
