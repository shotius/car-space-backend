import{a as f,c as y,u as P,r as k,f as x,g as T,h as C,R as e,F as R,i as v,j as F,k as S,l as A,V as D,m as d,n as V,T as q,o as u,p as b,q as B,t as G,C as H}from"./index.6e18472d.js";import{C as j}from"./Card.c13f0bd9.js";const z=({})=>{const r=f(),n=y(),{token:m}=P(),[l,p]=k.exports.useState(""),s=x(),w=T().shape({password:C().min(4,"Too Short").max(50,"Too long").required("Required")});return e.createElement(R,{validationSchema:w,initialValues:{password:"",retypePassword:""},onSubmit:(t,{setErrors:h,setSubmitting:o,resetForm:g})=>{const{password:i,retypePassword:E}=t;i!==E?(h({password:"passwords does not patch",retypePassword:"passwords does not match"}),o(!1)):r(v({token:m,password:i})).unwrap().then(()=>{s({title:"Password changed successfully",position:"top",status:"success"}),n.push("/"),o(!1),g()}).catch(a=>{o(!1),F(a)&&a.error==="Token is outdated"?(p("Token you provided is oudated "),s({title:"Token you provided is oudated ",position:"top",status:"error"})):S(a)?a.errors.map(c=>{c.msg==="Token is invalid"&&p("Token is invalid"),s({title:c.msg,status:"error",position:"top"})}):s({title:"Something went wrong ;(, try later",position:"top",status:"error"})})}},({isSubmitting:t})=>e.createElement(A,null,e.createElement(D,{spacing:4,align:"flex-start"},e.createElement(d,{name:"password",type:"password",label:"Password",placeholder:"Password"}),e.createElement(d,{name:"retypePassword",type:"password",label:"Retype Password",placeholder:"Retype Password",w:"full"}),l&&e.createElement(V,null,e.createElement(q,{color:"red"},l),e.createElement(u,{onClick:()=>r(b()),color:"#427AD6"},"Go take one")),e.createElement(B,{isLoading:t,type:"submit"},"Change password"),e.createElement(u,{color:"#427AD6",fontSize:"14px",onClick:()=>n.push("/")},"Go on home page"))))},M=({})=>e.createElement(G,null,e.createElement(H,{h:"70vh"},e.createElement(j,{p:["32px",null,"42px 64px"],w:"full",maxW:"450px"},e.createElement(z,null))));export{M as ChangePasswordPage,M as default};
