var V=Object.defineProperty,U=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var W=(t,e,r)=>e in t?V(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,w=(t,e)=>{for(var r in e||(e={}))k.call(e,r)&&W(t,r,e[r]);if(H)for(var r of H(e))A.call(e,r)&&W(t,r,e[r]);return t},z=(t,e)=>U(t,D(e));var T=(t,e)=>{var r={};for(var a in t)k.call(t,a)&&e.indexOf(a)<0&&(r[a]=t[a]);if(t!=null&&H)for(var a of H(t))e.indexOf(a)<0&&A.call(t,a)&&(r[a]=t[a]);return r};import{a9 as Y,b2 as G,ag as K,br as X,ah as Z,r as l,ab as q,aa as J,bs as x,bt as Q,bu as ee,bv as te,e as O,bw as re,j as f,bx as ae,f as ne,F as oe,m as ie,V as se,H as de,n as ue,by as le,t as ce}from"./index.5a316967.js";function L(){return L=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},L.apply(this,arguments)}function ge(t,e){if(t==null)return{};var r={},a=Object.keys(t),n,o;for(o=0;o<a.length;o++)n=a[o],!(e.indexOf(n)>=0)&&(r[n]=t[n]);return r}var he=["className","rows"],fe=Y(function(t,e){var r=G("Textarea",t),a=K(t),n=a.className,o=a.rows,d=ge(a,he),p=X(d),s=["h","minH","height","minHeight"],i=o?Z(r,s):r;return l.exports.createElement(q.textarea,L({ref:e,rows:o},p,{className:J("chakra-textarea",n),__css:i}))});const y="/api/blogs",pe=async()=>{const{data:t}=await x.get(y);return t},ve=async t=>(await x.get(`${y}/${t}`)).data,me=async t=>(await x.get(`${y}/random`,{params:{limit:t}})).data,be=async t=>(await x.post(y,t)).data,xe=async t=>(await x.delete(`${y}/${t}`)).data,ye=async t=>{const e=t.get("id");return(await x.put(`${y}/${e}`,t)).data},$={getAllBlogs:pe,getBlogById:ve,createBlog:be,deleteBlogById:xe,updateBlogById:ye,getRandomBlogs:me};var Se=l.exports.useLayoutEffect,we=function(e){var r=l.exports.useRef(e);return Se(function(){r.current=e}),r},I=function(e,r){if(typeof e=="function"){e(r);return}e.current=r},ze=function(e,r){var a=l.exports.useRef();return l.exports.useCallback(function(n){e.current=n,a.current&&I(a.current,null),a.current=r,r&&I(r,n)},[r])},j={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},_=function(e){Object.keys(j).forEach(function(r){e.style.setProperty(r,j[r],"important")})},u=null,Fe=function(e,r){var a=e.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?a+r.borderSize:a-r.paddingSize};function He(t,e,r,a){r===void 0&&(r=1),a===void 0&&(a=1/0),u||(u=document.createElement("textarea"),u.setAttribute("tabindex","-1"),u.setAttribute("aria-hidden","true"),_(u)),u.parentNode===null&&document.body.appendChild(u);var n=t.paddingSize,o=t.borderSize,d=t.sizingStyle,p=d.boxSizing;Object.keys(d).forEach(function(v){var g=v;u.style[g]=d[g]}),_(u),u.value=e;var s=Fe(u,t);u.value="x";var i=u.scrollHeight-n,c=i*r;p==="border-box"&&(c=c+n+o),s=Math.max(c,s);var h=i*a;return p==="border-box"&&(h=h+n+o),s=Math.min(h,s),[s,i]}var N=function(){},Re=function(e,r){return e.reduce(function(a,n){return a[n]=r[n],a},{})},Ce=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],Be=!!document.documentElement.currentStyle,Te=function(e){var r=window.getComputedStyle(e);if(r===null)return null;var a=Re(Ce,r),n=a.boxSizing;if(n==="")return null;Be&&n==="border-box"&&(a.width=parseFloat(a.width)+parseFloat(a.borderRightWidth)+parseFloat(a.borderLeftWidth)+parseFloat(a.paddingRight)+parseFloat(a.paddingLeft)+"px");var o=parseFloat(a.paddingBottom)+parseFloat(a.paddingTop),d=parseFloat(a.borderBottomWidth)+parseFloat(a.borderTopWidth);return{sizingStyle:a,paddingSize:o,borderSize:d}},Le=function(e){var r=we(e);l.exports.useLayoutEffect(function(){var a=function(o){r.current(o)};return window.addEventListener("resize",a),function(){window.removeEventListener("resize",a)}},[])},Ee=function(e,r){var a=e.cacheMeasurements,n=e.maxRows,o=e.minRows,d=e.onChange,p=d===void 0?N:d,s=e.onHeightChange,i=s===void 0?N:s,c=Q(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),h=c.value!==void 0,v=l.exports.useRef(null),g=ze(v,r),R=l.exports.useRef(0),m=l.exports.useRef(),S=function(){var b=v.current,B=a&&m.current?m.current:Te(b);if(!!B){m.current=B;var E=He(B,b.value||b.placeholder||"x",o,n),F=E[0],M=E[1];R.current!==F&&(R.current=F,b.style.setProperty("height",F+"px","important"),i(F,{rowHeight:M}))}},C=function(b){h||S(),p(b)};return l.exports.useLayoutEffect(S),Le(S),l.exports.createElement("textarea",ee({},c,{onChange:C,ref:g}))},We=l.exports.forwardRef(Ee),ke=We;const Ae=p=>{var s=p,{name:t,type:e="file",multiple:r=!1,value:a=void 0,style:n={marginTop:"10px"},label:o}=s,d=T(s,["name","type","multiple","value","style","label"]);const[i,c,{setValue:h}]=te(t);return O(re,{children:[f(ae,{mb:"0",htmlFor:o,children:o}),f("input",z(w(z(w({id:o,type:e,multiple:r},i),{value:a,style:n}),d),{onChange:v=>{const g=v.currentTarget.files;h(g)}}))]})},$e={header:"",cover:null,body:""},_e=({initBlog:t,operation:e="adding",closeForm:r=()=>{},refetchCb:a=()=>{}})=>{const n=ne(),o=t&&e==="modifing"?z(w({},t),{cover:null}):$e;function d(i){return()=>$.createBlog(i).then(()=>{n({title:"Blog created",status:"success",position:"top",duration:3e3})}).catch(()=>{n({title:"Something went wrong",status:"error",position:"top"})})}function p(i){return()=>$.updateBlogById(i).then(()=>{r(),a(),n({title:"blog has been updated",status:"success",position:"top"})}).catch(()=>n({title:"Could not update blog",status:"error",position:"top"}))}function s(i,{setSubmitting:c}){const m=i,{cover:h}=m,v=T(m,["cover"]),g=new FormData;h&&g.append("cover",h[0]);for(let[S,C]of Object.entries(v))g.append(S,C);(e==="adding"?d(g):p(g))().finally(()=>c(!1))}return f(oe,{initialValues:o,onSubmit:s,children:({isSubmitting:i})=>f(ie,{children:O(se,{spacing:"4",children:[f(de,{children:"Add new blog"}),f(ue,{name:"header",label:"Blog Heading",placeholder:"Heading"}),f(Ae,{name:"cover",label:"Cover"}),f(le,{name:"body",children:({field:c})=>f(fe,z(w({mt:"2"},c),{placeholder:"Write Description",size:"sm",as:ke,maxRows:10}))}),f(ce,{isLoading:i,type:"submit",children:e==="adding"?" Add new Blog":"Update blog"})]})})})};export{_e as A,Ae as F,fe as T,ke as a,$ as b};
