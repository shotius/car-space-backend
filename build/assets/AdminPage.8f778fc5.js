var F=Object.defineProperty,D=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var C=(a,r,t)=>r in a?F(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t,f=(a,r)=>{for(var t in r||(r={}))j.call(r,t)&&C(a,t,r[t]);if(h)for(var t of h(r))k.call(r,t)&&C(a,t,r[t]);return a},E=(a,r)=>D(a,H(r));var T=(a,r)=>{var t={};for(var o in a)j.call(a,o)&&r.indexOf(o)<0&&(t[o]=a[o]);if(a!=null&&h)for(var o of h(a))r.indexOf(o)<0&&k.call(a,o)&&(t[o]=a[o]);return t};import{r as O,R as e}from"./vendor.64e57edd.js";import{F as P,a as R,b as g}from"./formik.178388d5.js";import{T as B}from"./react-textarea-autosize.b1a14e4d.js";import{s as _,bs as N,G as q,bt as z,J as G,v as L,t as M,u as S,h as U,f as V,U as Y,aQ as K,C as Q,bu as W,a3 as I,bv as J,H as X,bw as s,bx as w,by as Z,a as $,aY as ee,T as ae,B as te}from"./index.2f7165ca.js";import{C as re}from"./Card.4f85270a.js";import{T as oe}from"./types.401d8b7f.js";import{H as ne}from"./contants.d6573c4d.js";import{u as se}from"./use-toast.becbaba7.js";import"./prop-types.d6ec705b.js";import"./react-redux.d0311eef.js";import"./axios.7b768d2b.js";import"./focus-visible.85b77dad.js";function b(){return b=Object.assign||function(a){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=t[o])}return a},b.apply(this,arguments)}function le(a,r){if(a==null)return{};var t={},o=Object.keys(a),c,m;for(m=0;m<o.length;m++)c=o[m],!(r.indexOf(c)>=0)&&(t[c]=a[c]);return t}var ce=_((a,r)=>{var t=N("Textarea",a),o=q(a),{className:c,rows:m}=o,n=le(o,["className","rows"]),d=z(n),l=["h","minH","height","minHeight"],i=m?G(t,l):t;return O.exports.createElement(L.textarea,b({ref:r,rows:m},d,{className:M("chakra-textarea",c),__css:i}))});const je=()=>{const a=Object.values(oe),{addingDealerCar:r}=S(n=>n.carsReducer),{catalogQuery:t}=S(n=>n.globalAppState),o=U(),c=se(),m={manufacturer:"",modelGroup:"",modelDetail:"",bodyStyle:"",damage:"",location:"",odometer:0,cylinders:0,drive:"",engine:0,transmission:"",year:"",keys:"",fuelType:"",color:"",price:0,description:"",photos:null};return e.createElement(V,{pt:["32px",null,null,"40px"]},e.createElement(Y,{onClick:()=>o(K())},"logout"),e.createElement(Q,null,e.createElement(re,{w:"500px",bg:"#fff",p:"4"},e.createElement(P,{initialValues:m,onSubmit:(n,{setFieldError:d})=>{const v=n,{photos:l,keys:i}=v,y=T(v,["photos","keys"]),u=new FormData;for(let p in y)u.append(p,n[p]);if(l)for(let p of l)u.append("photo[]",p);i&&u.append("keys",ne.YES),console.log(u.get("keys")),console.log(y);const A=new URLSearchParams(t);o(W(u)).unwrap().then(()=>{o(I(A)),c({title:"New car edded successfully",position:"top",status:"success",duration:1500})}).catch(p=>{let x="";J(p)&&p.status===422&&(x="Fill in required fields",d("manufacturer","required")),c({title:x,position:"top",variant:"solid",status:"error",duration:2e3})})}},({values:n,setFieldValue:d})=>e.createElement(R,null,e.createElement(X,null,"Add Car"),e.createElement(s,{name:"manufacturer",placeholder:"Manufacturer"}),e.createElement(s,{name:"modelGroup",placeholder:"Model group"}),e.createElement(s,{name:"modelDetail",placeholder:"Model detail"}),e.createElement(s,{name:"bodyStyle",placeholder:"Body style"}),e.createElement(s,{name:"damage",placeholder:"damage"}),e.createElement(s,{name:"location",placeholder:"location"}),e.createElement(s,{name:"odometer",placeholder:"odometer",type:"number",value:n.odometer||""}),e.createElement(s,{name:"cylinders",placeholder:"cylinders",type:"number",value:n.cylinders||""}),e.createElement(s,{name:"drive",placeholder:"drive"}),e.createElement(s,{name:"engine",type:"number",value:n.engine||"",placeholder:"Engine capacity"}),e.createElement(g,{name:"transmission"},({field:l})=>e.createElement(w,{pt:"2"},e.createElement(Z,E(f({},l),{bg:"#EAEAEB",opacity:"0.5",placeholder:"Transmission"}),a.map(i=>e.createElement("option",{key:i,value:i},i))))),e.createElement(s,{name:"year",placeholder:"Year",type:"number",value:n.year||""}),e.createElement(s,{name:"fuelType",placeholder:"Fuel type"}),e.createElement(s,{name:"color",placeholder:"Color"}),e.createElement(s,{name:"price",placeholder:"Price",type:"number",value:n.price||""}),e.createElement(g,{name:"keys"},({field:l})=>e.createElement(w,{pt:"2"},e.createElement($,null,e.createElement(ee,f({colorScheme:"autoOrange",name:"kes"},l)),e.createElement(ae,null,"Has keys")))),e.createElement(g,{name:"description"},({field:l})=>e.createElement(ce,E(f({mt:"2"},l),{placeholder:"Write Description",size:"sm",as:B,maxRows:10}))),e.createElement(g,{name:"photos"},({field:l})=>e.createElement("input",E(f({type:"file"},l),{multiple:!0,value:void 0,onChange:i=>{const y=i.currentTarget.files;d("photos",y)}}))),e.createElement(te,{type:"submit",mt:"4",mb:"4",isLoading:r},"Add"))))))};export{je as AdminPage,je as default};
