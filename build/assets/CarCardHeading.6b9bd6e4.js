var B=Object.defineProperty;var h=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var w=(e,t,o)=>t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,f=(e,t)=>{for(var o in t||(t={}))b.call(t,o)&&w(e,o,t[o]);if(h)for(var o of h(t))E.call(t,o)&&w(e,o,t[o]);return e};var x=(e,t)=>{var o={};for(var a in e)b.call(e,a)&&t.indexOf(a)<0&&(o[a]=e[a]);if(e!=null&&h)for(var a of h(e))t.indexOf(a)<0&&E.call(e,a)&&(o[a]=e[a]);return o};import{R as s,r as S,u as H,L as j}from"./vendor.64e57edd.js";import{Y as D,d as I,U as P,I as T,h as k,u as C,i as F,Z as R,_,$ as M,a as z,V as N,T as W,a0 as Z,a1 as U,a2 as Q,a3 as y,a4 as V,a5 as Y,a6 as $}from"./index.2f7165ca.js";import{R as q}from"./contants.d6573c4d.js";import{u as A}from"./use-toast.becbaba7.js";const G=e=>{const t=e.toLocaleLowerCase().split(" ").map(a=>a.trim()).filter(a=>a.length),o=[];return t.forEach(a=>{const l=a[0].toUpperCase()+a.slice(1);o.push(l)}),o.join(" ")},ne=e=>{const t=[...e.toString()].reverse().join("").match(/.{1,3}/g);return t?[...t==null?void 0:t.join(" ")].reverse():e},O=p=>{var c=p,{opacity:e="50%",color:t="#000",fontSize:o=["14px","16px"],lineHeight:a="21px",children:l}=c,n=x(c,["opacity","color","fontSize","lineHeight","children"]);return s.createElement(D,f({color:t,fontSize:o,opacity:e,lineHeight:a},n),l)},J=I({displayName:"HeartFilled",viewBox:"0 0 16 15",path:s.createElement(s.Fragment,null,s.createElement("path",{id:"Icon_ionic-ios-heart","data-name":"Icon ionic-ios-heart",d:"M15.067,3.938h-.038a4.4,4.4,0,0,0-3.654,1.95,4.4,4.4,0,0,0-3.654-1.95H7.683A4.294,4.294,0,0,0,3.375,8.175a8.984,8.984,0,0,0,1.838,4.976,31.909,31.909,0,0,0,6.162,5.786,31.909,31.909,0,0,0,6.162-5.786,8.984,8.984,0,0,0,1.838-4.976A4.294,4.294,0,0,0,15.067,3.938Z",transform:"translate(-3.375 -3.938)",fill:"#fb5607"}))}),K=I({displayName:"HeartIcon",viewBox:"0 0 16 15",path:s.createElement(s.Fragment,null,s.createElement("path",{id:"Icon_material-favorite-border","data-name":"Icon material-favorite-border",d:"M14.6,4.5A4.75,4.75,0,0,0,11,6.208,4.75,4.75,0,0,0,7.4,4.5,4.406,4.406,0,0,0,3,9c0,3.09,2.72,5.608,6.84,9.433L11,19.5l1.16-1.079C16.28,14.6,19,12.086,19,9A4.406,4.406,0,0,0,14.6,4.5ZM11.08,17.211l-.08.082-.08-.082C7.112,13.688,4.6,11.358,4.6,9A2.764,2.764,0,0,1,7.4,6.135a3.127,3.127,0,0,1,2.856,1.929h1.5A3.108,3.108,0,0,1,14.6,6.135,2.764,2.764,0,0,1,17.4,9C17.4,11.358,14.888,13.688,11.08,17.211Z",transform:"translate(-3 -4.5)"}))}),X=i=>{var r=i,{bg:e="white",_activeBg:t={bg:"white"},_hoverBg:o={bg:"white"},icon:a,fill:l,boxSize:n,children:p}=r,c=x(r,["bg","_activeBg","_hoverBg","icon","fill","boxSize","children"]);return s.createElement(P,f({bg:e,onClick:c.onClick,_active:{bg:t},_hover:{bg:o}},c),s.createElement(T,{as:a,boxSize:n,fill:l}),p)},ee=l=>{var n=l,{boxSize:e=6,carId:t,buttonInactiveColor:o="autoGrey.500"}=n,a=x(n,["boxSize","carId","buttonInactiveColor"]);const[p,c]=S.exports.useState(!1),i=k(),{username:r,favouriteCarIds:u,likingCar:m}=C(d=>d.userInfoSlice),{isDesktop:g}=F(),v=A();return S.exports.useEffect(()=>{(u==null?void 0:u.length)&&u.includes(t)?c(!0):c(!1)},[u]),s.createElement(X,f({icon:p?J:K,boxSize:e,bg:p?"#FB560729":o,disabled:m,onClick:d=>{d.stopPropagation&&d.stopPropagation(),r?i(R(t)).unwrap().catch(L=>v({title:L,position:"top",duration:2e3,status:"error"})):i(g?_():M())},_hover:{fill:"red",bg:"#FB560729"}},a))},ce=({id:e,model:t,year:o})=>{const{role:a}=C(i=>i.userInfoSlice),{catalogQuery:l}=C(i=>i.globalAppState),n=k(),p=H(),c=A();return s.createElement(z,{justifyContent:"space-between",w:"full"},s.createElement(N,{alignItems:"flex-start",spacing:"0"},s.createElement(W,{fontFamily:"Roboto Medium",fontSize:"18px",maxW:["200px","150px"],noOfLines:1,_hover:{textDecor:"underline"}},s.createElement(j,{to:`/car/${e}`},G(t))),s.createElement(O,{opacity:"50%"},o||"Year: -")),(a==null?void 0:a.toLocaleLowerCase())===q.ADMIN.toLocaleLowerCase()?s.createElement(Z,{icon:s.createElement(U,null),"aria-label":"delete car",onClick:i=>{i.stopPropagation&&i.stopPropagation(),n(Q(e)).unwrap().then(()=>{const r=new URLSearchParams(l);n(y(r)).unwrap().then(u=>{const m=r.get("page");if(!u.length&&m&&m!=="1"){const g=parseInt(m)-1||"1";r.set("page",g.toString()),n(V(g)),n(Y(r.toString())),p.push({pathname:"/catalog",search:r.toString()}),n(y(r))}}),c({title:"Deleted successfully",position:"top",status:"success",duration:2e3})}).catch(r=>{$(r)&&c({title:r.message,position:"top",status:"error",duration:2e3}),c({title:"Could not delelete the card",position:"top",status:"error",duration:2e3})})}}):s.createElement(ee,{h:"40px",w:"36px",boxSize:5,carId:e}))};export{ee as B,ce as C,O as T,X as a,G as c,ne as t};
