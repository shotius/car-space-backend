var v=Object.defineProperty;var m=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var C=(e,t,a)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,f=(e,t)=>{for(var a in t||(t={}))E.call(t,a)&&C(e,a,t[a]);if(m)for(var a of m(t))I.call(t,a)&&C(e,a,t[a]);return e};var d=(e,t)=>{var a={};for(var n in e)E.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&m)for(var n of m(e))t.indexOf(n)<0&&I.call(e,n)&&(a[n]=e[n]);return a};import{Y as A,R as s,B as k,_ as D,r as S,a as y,b,a2 as _,f as B,aB as F,aC as P,aD as R,c as M,n as T,V as O,T as z,L as N,e as W,I as Z,aE as j,aF as G,aG as w,aH as Q,aI as V,j as Y}from"./index.6e18472d.js";import{c as q,T as U}from"./TextSecondary.229b4c24.js";const $=A({displayName:"HeartFilled",viewBox:"0 0 16 15",path:s.createElement(s.Fragment,null,s.createElement("path",{id:"Icon_ionic-ios-heart","data-name":"Icon ionic-ios-heart",d:"M15.067,3.938h-.038a4.4,4.4,0,0,0-3.654,1.95,4.4,4.4,0,0,0-3.654-1.95H7.683A4.294,4.294,0,0,0,3.375,8.175a8.984,8.984,0,0,0,1.838,4.976,31.909,31.909,0,0,0,6.162,5.786,31.909,31.909,0,0,0,6.162-5.786,8.984,8.984,0,0,0,1.838-4.976A4.294,4.294,0,0,0,15.067,3.938Z",transform:"translate(-3.375 -3.938)",fill:"#fb5607"}))}),J=A({displayName:"HeartIcon",viewBox:"0 0 16 15",path:s.createElement(s.Fragment,null,s.createElement("path",{id:"Icon_material-favorite-border","data-name":"Icon material-favorite-border",d:"M14.6,4.5A4.75,4.75,0,0,0,11,6.208,4.75,4.75,0,0,0,7.4,4.5,4.406,4.406,0,0,0,3,9c0,3.09,2.72,5.608,6.84,9.433L11,19.5l1.16-1.079C16.28,14.6,19,12.086,19,9A4.406,4.406,0,0,0,14.6,4.5ZM11.08,17.211l-.08.082-.08-.082C7.112,13.688,4.6,11.358,4.6,9A2.764,2.764,0,0,1,7.4,6.135a3.127,3.127,0,0,1,2.856,1.929h1.5A3.108,3.108,0,0,1,14.6,6.135,2.764,2.764,0,0,1,17.4,9C17.4,11.358,14.888,13.688,11.08,17.211Z",transform:"translate(-3 -4.5)"}))}),K=i=>{var o=i,{bg:e="white",_activeBg:t={bg:"white"},_hoverBg:a={bg:"white"},icon:n,fill:p,boxSize:c,children:l}=o,r=d(o,["bg","_activeBg","_hoverBg","icon","fill","boxSize","children"]);return s.createElement(k,f({bg:e,onClick:r.onClick,_active:{bg:t},_hover:{bg:a}},r),s.createElement(D,{as:n,boxSize:c,fill:p}),l)},X=p=>{var c=p,{boxSize:e=6,carId:t,buttonInactiveColor:a="autoGrey.500"}=c,n=d(c,["boxSize","carId","buttonInactiveColor"]);const[l,r]=S.exports.useState(!1),i=y(),{favouriteCarIds:o,likingCar:x,isAuthenticated:u}=b(h=>h.userInfoSlice),{isDesktop:g}=_(),L=B();return S.exports.useEffect(()=>{(o==null?void 0:o.length)&&o.includes(t)?r(!0):r(!1)},[o]),s.createElement(K,f({icon:l?$:J,boxSize:e,bg:l?"#FB560729":a,onClick:h=>{h.stopPropagation&&h.stopPropagation(),u&&r(!l),u?x||i(F(t)).unwrap().then(()=>r(!0)).catch(H=>{r(!1),L({title:H,position:"top",duration:2e3,status:"error"})}):i(g?P():R())},_hover:{fill:"red",bg:"#FB560729"}},n))},oe=({id:e,model:t,year:a})=>{const{role:n}=b(i=>i.userInfoSlice),{catalogQuery:p}=b(i=>i.globalAppState),c=y(),l=M(),r=B();return s.createElement(T,{justifyContent:"space-between",w:"full"},s.createElement(O,{alignItems:"flex-start",spacing:"0"},s.createElement(z,{fontFamily:"Roboto Medium",fontSize:"18px",maxW:["200px","150px"],noOfLines:1,_hover:{textDecor:"underline"}},s.createElement(N,{to:`/car/${e}`},q(t))),s.createElement(U,{opacity:"50%"},a||"Year: -")),(n==null?void 0:n.toLocaleLowerCase())===W.ADMIN.toLocaleLowerCase()?s.createElement(Z,{icon:s.createElement(j,null),"aria-label":"delete car",onClick:i=>{i.stopPropagation&&i.stopPropagation(),c(G(e)).unwrap().then(()=>{const o=new URLSearchParams(p);c(w(o)).unwrap().then(x=>{const u=o.get("page");if(!x.length&&u&&u!=="1"){const g=parseInt(u)-1||"1";o.set("page",g.toString()),c(Q(g)),c(V(o.toString())),l.push({pathname:"/catalog",search:o.toString()}),c(w(o))}}),r({title:"Deleted successfully",position:"top",status:"success",duration:2e3})}).catch(o=>{Y(o)&&r({title:o.message,position:"top",status:"error",duration:2e3}),r({title:"Could not delelete the card",position:"top",status:"error",duration:2e3})})}}):s.createElement(X,{h:"40px",w:"36px",boxSize:5,carId:e}))},ne=i=>{var o=i,{active:e=!1,minW:t="1px",minH:a="1px",w:n="30px",h:p="30px",px:c="0px",children:l}=o,r=d(o,["active","minW","minH","w","h","px","children"]);return s.createElement(k,f({fontWeight:"light",minW:t,minH:a,w:n,h:p,px:c,borderRadius:"100px",bg:e?"autoOrange.500":"transparent",color:e?"#fff":"#000",_hover:{bg:e?"autoOrange.500":"transparent"},_active:{bg:"autoOrange.300"}},r),l)};export{X as B,oe as C,ne as a,K as b};
