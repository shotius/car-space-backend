import{r as s,u as R,a as w,b as u,c as y,d as I,s as C,R as t,C as i,H as p,V as D,B as b,L as f,e as k,T}from"./index.6e18472d.js";const L=({})=>{const[o,r]=s.exports.useState(null),[h,c]=s.exports.useState("Failed To Activate"),[d,a]=s.exports.useState(!1),{hash:m}=R(),S=w(),n=u(e=>e.userInfoSlice.role),l=u(e=>e.userInfoSlice.isAuthenticated),E=y(),[v,A]=s.exports.useState(5),[x,g]=s.exports.useState(!1);return s.exports.useEffect(()=>{l&&(g(!0),setTimeout(()=>E.replace(`/${n}/dashboard`),5e3),setInterval(()=>A(e=>e-1),1e3))},[l]),s.exports.useEffect(()=>{a(!0),I.verifyAccount(m).then(({results:e})=>{r(!0),c(""),a(!1),localStorage.setItem("USER_ROLE",e.role),S(C(e))}).catch(e=>{r(!1),a(!1),c(e.response.data.error)})},[]),d?t.createElement(i,{h:"90vh"},t.createElement(p,null,"Activating...")):t.createElement(i,{h:"90vh"},t.createElement(D,null,t.createElement(p,{color:o?"autoOrange.500":"red",fontSize:["24px","32px",null,"48px"]},o?"Account activated successfully!":h||"Failed to Activate"),t.createElement(b,{variant:"link",color:"black"},n?t.createElement(f,{to:`/${k.USER}/dashboard`},"go to profile"):t.createElement(f,{to:"/home"},"go to home")),x&&t.createElement(T,null,"redirecting in ",t.createElement("span",{style:{color:"red"}},v)," ","seconds")))};export{L as AccountActivation,L as default};
