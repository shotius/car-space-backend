import{r as s,u as E,a as I,b as l,c as R,d as C,s as D,j as t,C as u,H as h,e as d,V as b,B as k,L as p,R as T,T as j}from"./index.632ccf89.js";const L=({})=>{const[r,a]=s.exports.useState(null),[f,c]=s.exports.useState("Failed To Activate"),[S,o]=s.exports.useState(!1),{hash:x}=E(),v=I(),n=l(e=>e.userInfoSlice.role),i=l(e=>e.userInfoSlice.isAuthenticated),A=R(),[g,m]=s.exports.useState(5),[w,y]=s.exports.useState(!1);return s.exports.useEffect(()=>{i&&(y(!0),setTimeout(()=>A.replace(`/${n}/dashboard`),5e3),setInterval(()=>m(e=>e-1),1e3))},[i]),s.exports.useEffect(()=>{o(!0),C.verifyAccount(x).then(({results:e})=>{a(!0),c(""),o(!1),localStorage.setItem("USER_ROLE",e.role),v(D(e))}).catch(e=>{a(!1),o(!1),c(e.response.data.error)})},[]),S?t(u,{h:"90vh",children:t(h,{children:"Activating..."})}):t(u,{h:"90vh",children:d(b,{children:[t(h,{color:r?"autoOrange.500":"red",fontSize:["24px","32px",null,"48px"],children:r?"Account activated successfully!":f||"Failed to Activate"}),t(k,{variant:"link",color:"black",children:n?t(p,{to:`/${T.USER}/dashboard`,children:"go to profile"}):t(p,{to:"/home",children:"go to home"})}),w&&d(j,{children:["redirecting in ",t("span",{style:{color:"red"},children:g})," ","seconds"]})]})})};export{L as AccountActivation,L as default};
