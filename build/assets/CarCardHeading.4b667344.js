var B=Object.defineProperty;var f=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var b=(e,t,a)=>t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,h=(e,t)=>{for(var a in t||(t={}))E.call(t,a)&&b(e,a,t[a]);if(f)for(var a of f(t))S.call(t,a)&&b(e,a,t[a]);return e};var C=(e,t)=>{var a={};for(var o in e)E.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&f)for(var o of f(e))t.indexOf(o)<0&&S.call(e,o)&&(a[o]=e[o]);return a};import{R as s,r as I,u as H,L as D}from"./vendor.576a7237.js";import{G as w,B as P,K as F,u as y,a as x,O as M,c as k,am as R,an as T,ao as _,f as j,V as N,T as z,R as Z,I as q,ap as G,aq as O,ar as A,as as Q,at as V,i as W}from"./index.8f5de986.js";import{c as K,T as U}from"./TextSecondary.f32f1a2b.js";const Y=w({displayName:"HeartFilled",viewBox:"0 0 16 15",path:s.createElement(s.Fragment,null,s.createElement("path",{id:"Icon_ionic-ios-heart","data-name":"Icon ionic-ios-heart",d:"M15.067,3.938h-.038a4.4,4.4,0,0,0-3.654,1.95,4.4,4.4,0,0,0-3.654-1.95H7.683A4.294,4.294,0,0,0,3.375,8.175a8.984,8.984,0,0,0,1.838,4.976,31.909,31.909,0,0,0,6.162,5.786,31.909,31.909,0,0,0,6.162-5.786,8.984,8.984,0,0,0,1.838-4.976A4.294,4.294,0,0,0,15.067,3.938Z",transform:"translate(-3.375 -3.938)",fill:"#fb5607"}))}),$=w({displayName:"HeartIcon",viewBox:"0 0 16 15",path:s.createElement(s.Fragment,null,s.createElement("path",{id:"Icon_material-favorite-border","data-name":"Icon material-favorite-border",d:"M14.6,4.5A4.75,4.75,0,0,0,11,6.208,4.75,4.75,0,0,0,7.4,4.5,4.406,4.406,0,0,0,3,9c0,3.09,2.72,5.608,6.84,9.433L11,19.5l1.16-1.079C16.28,14.6,19,12.086,19,9A4.406,4.406,0,0,0,14.6,4.5ZM11.08,17.211l-.08.082-.08-.082C7.112,13.688,4.6,11.358,4.6,9A2.764,2.764,0,0,1,7.4,6.135a3.127,3.127,0,0,1,2.856,1.929h1.5A3.108,3.108,0,0,1,14.6,6.135,2.764,2.764,0,0,1,17.4,9C17.4,11.358,14.888,13.688,11.08,17.211Z",transform:"translate(-3 -4.5)"}))}),J=r=>{var n=r,{bg:e="white",_activeBg:t={bg:"white"},_hoverBg:a={bg:"white"},icon:o,fill:m,boxSize:c,children:p}=n,i=C(n,["bg","_activeBg","_hoverBg","icon","fill","boxSize","children"]);return s.createElement(P,h({bg:e,onClick:i.onClick,_active:{bg:t},_hover:{bg:a}},i),s.createElement(F,{as:o,boxSize:c,fill:m}),p)},X=m=>{var c=m,{boxSize:e=6,carId:t,buttonInactiveColor:a="autoGrey.500"}=c,o=C(c,["boxSize","carId","buttonInactiveColor"]);const[p,i]=I.exports.useState(!1),r=y(),{fullName:n,favouriteCarIds:l,likingCar:u}=x(d=>d.userInfoSlice),{isDesktop:g}=M(),L=k();return I.exports.useEffect(()=>{(l==null?void 0:l.length)&&l.includes(t)?i(!0):i(!1)},[l]),s.createElement(J,h({icon:p?Y:$,boxSize:e,bg:p?"#FB560729":a,disabled:u,onClick:d=>{d.stopPropagation&&d.stopPropagation(),n?r(R(t)).unwrap().catch(v=>L({title:v,position:"top",duration:2e3,status:"error"})):r(g?T():_())},_hover:{fill:"red",bg:"#FB560729"}},o))},se=({id:e,model:t,year:a})=>{const{role:o}=x(r=>r.userInfoSlice),{catalogQuery:m}=x(r=>r.globalAppState),c=y(),p=H(),i=k();return s.createElement(j,{justifyContent:"space-between",w:"full"},s.createElement(N,{alignItems:"flex-start",spacing:"0"},s.createElement(z,{fontFamily:"Roboto Medium",fontSize:"18px",maxW:["200px","150px"],noOfLines:1,_hover:{textDecor:"underline"}},s.createElement(D,{to:`/car/${e}`},K(t))),s.createElement(U,{opacity:"50%"},a||"Year: -")),(o==null?void 0:o.toLocaleLowerCase())===Z.ADMIN.toLocaleLowerCase()?s.createElement(q,{icon:s.createElement(G,null),"aria-label":"delete car",onClick:r=>{r.stopPropagation&&r.stopPropagation(),c(O(e)).unwrap().then(()=>{const n=new URLSearchParams(m);c(A(n)).unwrap().then(l=>{const u=n.get("page");if(!l.length&&u&&u!=="1"){const g=parseInt(u)-1||"1";n.set("page",g.toString()),c(Q(g)),c(V(n.toString())),p.push({pathname:"/catalog",search:n.toString()}),c(A(n))}}),i({title:"Deleted successfully",position:"top",status:"success",duration:2e3})}).catch(n=>{W(n)&&i({title:n.message,position:"top",status:"error",duration:2e3}),i({title:"Could not delelete the card",position:"top",status:"error",duration:2e3})})}}):s.createElement(X,{h:"40px",w:"36px",boxSize:5,carId:e}))};export{X as B,se as C,J as a};
