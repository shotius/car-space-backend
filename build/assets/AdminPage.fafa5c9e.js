var Fe=Object.defineProperty,He=Object.defineProperties;var We=Object.getOwnPropertyDescriptors;var K=Object.getOwnPropertySymbols;var pe=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable;var de=(r,n,a)=>n in r?Fe(r,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[n]=a,w=(r,n)=>{for(var a in n||(n={}))pe.call(n,a)&&de(r,a,n[a]);if(K)for(var a of K(n))ue.call(n,a)&&de(r,a,n[a]);return r},S=(r,n)=>He(r,We(n));var j=(r,n)=>{var a={};for(var t in r)pe.call(r,t)&&n.indexOf(t)<0&&(a[t]=r[t]);if(r!=null&&K)for(var t of K(r))n.indexOf(t)<0&&ue.call(r,t)&&(a[t]=r[t]);return a};import{a9 as ne,af as _e,ag as be,bW as Pe,bX as ye,bY as Ie,r as d,ab as Z,a8 as je,aa as we,bZ as Be,b1 as $e,ah as Me,b_ as Ue,j as e,a as O,f as P,b as M,b$ as Ge,e as f,v as V,c0 as Ve,F as J,c1 as Ye,m as ee,V as T,H as L,n as v,t as te,T as H,A as U,I as oe,aE as ie,c2 as Ke,o as _,K as G,c3 as qe,c4 as Qe,c5 as Xe,bx as Ze,c6 as Je,aG as et,l as Se,c7 as Ce,c8 as W,c9 as ke,ca as he,C as le,J as tt,x as rt,ax as at,cb as nt,cc as ot,cd as Re,a1 as se,ce as it,cf as lt,B as z,cg as st,ch as ct,N as dt,O as pt,P as ut,z as ht,Q as ft,G as mt,bj as Ee,bi as gt,ci as xt,bc as vt,L as q,bf as bt,bk as yt,bl as $,bm as wt}from"./index.845c161f.js";import{S as St,C as Q}from"./SelectSearch.70567fa7.js";import{S as Ct}from"./ScrollToTop.9a0ab9ef.js";import{C as N}from"./Card.a106318a.js";import{T as fe,c as kt}from"./TextSecondary.e3c84d79.js";import{u as Te,T as Rt}from"./types.cb80ff16.js";import{I as X}from"./chakra-ui-image.esm.edc23447.js";import{S as Et,a as Tt,b as At,c as Ot}from"./SelectWrapper.0fda1c1a.js";import{d as zt,O as Nt}from"./OrderListCard.1580ad2c.js";import"./toTrippleNumber.af3f6dfa.js";import"./NotSpecified.dc0b27ee.js";function D(){return D=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(r[t]=a[t])}return r},D.apply(this,arguments)}function ce(r,n){if(r==null)return{};var a={},t=Object.keys(r),i,o;for(o=0;o<t.length;o++)i=t[o],!(n.indexOf(i)>=0)&&(a[i]=r[i]);return a}var Lt=["children","placeholder","className"],Dt=["rootProps","placeholder","icon","color","height","h","minH","minHeight","iconColor","iconSize","isFullWidth"],Ft=["children"],Ht=ne(function(r,n){var a=r.children,t=r.placeholder,i=r.className,o=ce(r,Lt);return d.exports.createElement(Z.select,D({},o,{ref:n,className:we("chakra-select",i)}),t&&d.exports.createElement("option",{value:""},t),a)}),Ae=ne(function(r,n){var a=_e("Select",r),t=be(r),i=t.rootProps,o=t.placeholder,c=t.icon,l=t.color,s=t.height,p=t.h,h=t.minH,m=t.minHeight,u=t.iconColor,g=t.iconSize;t.isFullWidth;var y=ce(t,Dt),x=Pe(y,Be),R=x[0],b=x[1],A=ye(b),E={width:"100%",height:"fit-content",position:"relative",color:l},F=Ie({paddingEnd:"2rem"},a.field,{_focus:{zIndex:"unset"}});return d.exports.createElement(Z.div,D({className:"chakra-select__wrapper",__css:E},R,i),d.exports.createElement(Ht,D({ref:n,height:p!=null?p:s,minH:h!=null?h:m,placeholder:o},A,{__css:F}),r.children),d.exports.createElement(Pt,D({"data-disabled":je(A.disabled)},(u||l)&&{color:u||l},{__css:a.icon},g&&{fontSize:g}),c))}),Wt=function(n){return d.exports.createElement("svg",D({viewBox:"0 0 24 24"},n),d.exports.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))},_t=Z("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),Pt=function(n){var a=n.children,t=a===void 0?d.exports.createElement(Wt,null):a,i=ce(n,Ft),o=d.exports.cloneElement(t,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return d.exports.createElement(_t,D({},i,{className:"chakra-select__icon-wrapper"}),d.exports.isValidElement(t)?o:null)};function ae(){return ae=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(r[t]=a[t])}return r},ae.apply(this,arguments)}function It(r,n){if(r==null)return{};var a={},t=Object.keys(r),i,o;for(o=0;o<t.length;o++)i=t[o],!(n.indexOf(i)>=0)&&(a[i]=r[i]);return a}var jt=["className","rows"],Oe=ne(function(r,n){var a=$e("Textarea",r),t=be(r),i=t.className,o=t.rows,c=It(t,jt),l=ye(c),s=["h","minH","height","minHeight"],p=o?Me(a,s):a;return d.exports.createElement(Z.textarea,ae({ref:n,rows:o},l,{className:we("chakra-textarea",i),__css:p}))});const Bt=c=>{var l=c,{name:r,type:n="file",multiple:a=!1,value:t=void 0,style:i={marginTop:"10px"}}=l,o=j(l,["name","type","multiple","value","style"]);const[s,p,{setValue:h}]=Ue(r);return e("input",S(w(S(w({type:n,multiple:a},s),{value:t,style:i}),o),{onChange:m=>{const u=m.currentTarget.files;h(u)}}))},$t=({})=>{const[r,n]=d.exports.useState(!1),a=O(),t=P(),i=M(s=>s.banners.banners),o={place:1,banner:null};d.exports.useEffect(()=>{c()},[]);function c(){a(Ge())}function l(s){n(!0),a(Ke(s)).then(()=>{c(),n(!1),t({title:"banner deleted",position:"top"})}).catch(()=>{n(!1),t({title:"could not delelte the banner",position:"top",status:"error"})})}return f(V,{pt:["32px",null,null,"40px"],children:[e(Ve,{children:e(N,{w:"full",children:e(J,{initialValues:o,onSubmit:(s,{setSubmitting:p})=>{const{banner:h}=s,m=new FormData;h&&m.append("banner",h[0]),m.append("place",s.place.toString()),a(Ye(m)).unwrap().then(()=>{t({title:"banner added",position:"top",status:"success"}),p(!1)}).catch(u=>{t({title:u,position:"top",status:"error"}),p(!1)})},children:({isSubmitting:s})=>e(ee,{children:f(T,{align:"flex-start",children:[e(L,{textAlign:"center",w:"full",children:"Add remove Banners"}),e(v,{name:"place",type:"number",label:"banner index"}),e(Bt,{name:"banner"}),e(te,{w:"200px",type:"submit",isLoading:s,children:"add banner"})]})})})})}),f(N,{mt:"4",p:"0",children:[e(L,{w:"full",textAlign:"center",pt:"4",children:"Banners"}),e(T,{align:"flex-start",children:i.map(s=>f(T,{w:"full",align:"flex-start",position:"relative",children:[f(H,{position:"absolute",top:"20px",left:"10px",bg:"white",zIndex:"1",padding:"4",children:["index: ",s.place,"."]}),e(U,{w:"full",children:e("img",{src:s.img})}),e(oe,{icon:e(ie,{}),"aria-label":"delete banner",position:"absolute",right:"10px",top:"20px",onClick:()=>l(s.id),isLoading:r})]},s.img))})]})]})},ze=c=>{var l=c,{avatar:r,index:n,mainText:a,secondaryText:t,verified:i}=l,o=j(l,["avatar","index","mainText","secondaryText","verified"]);return f(_,S(w({cursor:"pointer",transition:"all .2s",_hover:{bg:"autoGrey.200"},w:"full",py:"4",px:"2"},o),{children:[e(H,{alignSelf:"flex-end",children:"."}),e(U,{w:"40px",ratio:1/1,borderRadius:"100px",bg:"white",children:e(X,{src:r,borderRadius:"100px",fallbackSrc:Te})}),f(T,{align:"flex-start",spacing:"0",children:[e(H,{children:a}),f(_,{children:[e(fe,{children:t}),i!==void 0&&e(G,{children:i!==void 0&&i?e(fe,{color:"green",children:"verified"}):e(H,{color:"red",children:"no verified"})})]})]})]}))},Mt=({onSelect:r})=>{const[n,a]=d.exports.useState([]),t=O();d.exports.useEffect(()=>{i()},[]);function i(){t(qe("")).unwrap().then(o=>a(o))}return e(T,{w:"full",children:n.length?n.map(o=>e(ze,{avatar:o.avatar,mainText:o.fullName,secondaryText:o.role,verified:o.verified,onClick:()=>{r(o)}},o.id)):e(L,{py:"4",children:"Dealers will Appear here"})})};var Ut=d.exports.useLayoutEffect,Gt=function(n){var a=d.exports.useRef(n);return Ut(function(){a.current=n}),a},me=function(n,a){if(typeof n=="function"){n(a);return}n.current=a},Vt=function(n,a){var t=d.exports.useRef();return d.exports.useCallback(function(i){n.current=i,t.current&&me(t.current,null),t.current=a,a&&me(a,i)},[a])},ge={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},xe=function(n){Object.keys(ge).forEach(function(a){n.style.setProperty(a,ge[a],"important")})},k=null,Yt=function(n,a){var t=n.scrollHeight;return a.sizingStyle.boxSizing==="border-box"?t+a.borderSize:t-a.paddingSize};function Kt(r,n,a,t){a===void 0&&(a=1),t===void 0&&(t=1/0),k||(k=document.createElement("textarea"),k.setAttribute("tabindex","-1"),k.setAttribute("aria-hidden","true"),xe(k)),k.parentNode===null&&document.body.appendChild(k);var i=r.paddingSize,o=r.borderSize,c=r.sizingStyle,l=c.boxSizing;Object.keys(c).forEach(function(u){var g=u;k.style[g]=c[g]}),xe(k),k.value=n;var s=Yt(k,r);k.value="x";var p=k.scrollHeight-i,h=p*a;l==="border-box"&&(h=h+i+o),s=Math.max(h,s);var m=p*t;return l==="border-box"&&(m=m+i+o),s=Math.min(m,s),[s,p]}var ve=function(){},qt=function(n,a){return n.reduce(function(t,i){return t[i]=a[i],t},{})},Qt=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],Xt=!!document.documentElement.currentStyle,Zt=function(n){var a=window.getComputedStyle(n);if(a===null)return null;var t=qt(Qt,a),i=t.boxSizing;if(i==="")return null;Xt&&i==="border-box"&&(t.width=parseFloat(t.width)+parseFloat(t.borderRightWidth)+parseFloat(t.borderLeftWidth)+parseFloat(t.paddingRight)+parseFloat(t.paddingLeft)+"px");var o=parseFloat(t.paddingBottom)+parseFloat(t.paddingTop),c=parseFloat(t.borderBottomWidth)+parseFloat(t.borderTopWidth);return{sizingStyle:t,paddingSize:o,borderSize:c}},Jt=function(n){var a=Gt(n);d.exports.useLayoutEffect(function(){var t=function(o){a.current(o)};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}},[])},er=function(n,a){var t=n.cacheMeasurements,i=n.maxRows,o=n.minRows,c=n.onChange,l=c===void 0?ve:c,s=n.onHeightChange,p=s===void 0?ve:s,h=Qe(n,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),m=h.value!==void 0,u=d.exports.useRef(null),g=Vt(u,a),y=d.exports.useRef(0),x=d.exports.useRef(),R=function(){var E=u.current,F=t&&x.current?x.current:Zt(E);if(!!F){x.current=F;var Y=Kt(F,E.value||E.placeholder||"x",o,i),I=Y[0],re=Y[1];y.current!==I&&(y.current=I,E.style.setProperty("height",I+"px","important"),p(I,{rowHeight:re}))}},b=function(E){m||R(),l(E)};return d.exports.useLayoutEffect(R),Jt(R),d.exports.createElement("textarea",Xe({},h,{onChange:b,ref:g}))},tr=d.exports.forwardRef(er),Ne=tr;const rr=({dealer:r})=>{const n=Object.values(Rt),{addingDealerCar:a}=M(l=>l.carsReducer),{catalogQuery:t}=M(l=>l.globalAppState),i=O(),o=P(),c={manufacturer:"",modelGroup:"",modelDetail:"",bodyStyle:"",damage:"",location:"",odometer:0,cylinders:0,drive:"",engine:0,transmission:"",year:"",keys:"",fuelType:"",color:"",price:0,description:"",photos:null,mostDemand:!1,dealerName:r?r.fullName:"",dealerId:r?r.id:void 0};return e(J,{initialValues:c,enableReinitialize:!0,onSubmit:(l,{setErrors:s})=>{const y=l,{photos:p,keys:h}=y,m=j(y,["photos","keys"]),u=new FormData;for(let x in m)u.append(x,l[x]);if(p)for(let x of p)u.append("photo[]",x);h&&u.append("keys",Ze.YES);const g=new URLSearchParams(t);i(Je(u)).unwrap().then(()=>{i(et(g)),o({title:"New car edded successfully",position:"top",status:"success",duration:1500})}).catch(x=>{Se(x)?x.status===422&&(s(Ce(x.errors)),x.errors.forEach(({msg:R})=>o({title:R,position:"top",variant:"solid",status:"error",duration:2e3}))):o({title:"Error occured!",position:"top",variant:"solid",status:"error",duration:2e3})})},children:({values:l,setFieldValue:s})=>f(ee,{children:[e(L,{children:"Add Car"}),e(v,{name:"dealerName",placeholder:"Dealer name"}),e(v,{name:"manufacturer",placeholder:"Manufacturer"}),e(v,{name:"modelGroup",placeholder:"Model group"}),e(v,{name:"modelDetail",placeholder:"Model detail"}),e(v,{name:"bodyStyle",placeholder:"Body style"}),e(v,{name:"damage",placeholder:"damage"}),e(v,{name:"location",placeholder:"location"}),e(v,{name:"odometer",placeholder:"odometer",type:"number",value:l.odometer||""}),e(v,{name:"cylinders",placeholder:"cylinders",type:"number",value:l.cylinders||""}),e(v,{name:"drive",placeholder:"drive"}),e(v,{name:"engine",type:"number",value:l.engine||"",placeholder:"Engine capacity"}),e(W,{name:"transmission",children:({field:p})=>e(ke,{pt:"2",children:e(Ae,S(w({},p),{bg:"#EAEAEB",opacity:"0.5",placeholder:"Transmission",children:n.map(h=>e("option",{value:h,children:h},h))}))})}),e(v,{name:"year",placeholder:"Year",type:"number",value:l.year||""}),e(v,{name:"fuelType",placeholder:"Fuel type"}),e(v,{name:"color",placeholder:"Color"}),e(v,{name:"price",placeholder:"Price",type:"number",value:l.price||""}),e(he,{name:"keys",label:"Has keys"}),e(he,{name:"mostDemand",label:"Most demand"}),e(W,{name:"description",children:({field:p})=>e(Oe,S(w({mt:"2"},p),{placeholder:"Write Description",size:"sm",as:Ne,maxRows:10}))}),e(W,{name:"photos",children:({field:p})=>e("input",S(w({type:"file"},p),{multiple:!0,value:void 0,style:{marginTop:"12px"},onChange:h=>{const m=h.currentTarget.files;s("photos",m)}}))}),e(te,{type:"submit",mt:"4",mb:"4",isLoading:a,children:"Add"})]})})},ar=()=>{const[r,n]=d.exports.useState();return e(V,{pt:["32px",null,null,"40px"],children:e(le,{children:f(_,{w:"full",justify:"center",children:[e(N,{w:"500px",bg:"#fff",p:"4",children:e(rr,{dealer:r})}),e(N,{maxW:"250px",w:"full",alignSelf:"flex-start",p:"0",children:e(Mt,{onSelect:n})})]})})})},Le=i=>{var o=i,{onSelect:r,name:n,onUserSelect:a}=o,t=j(o,["onSelect","name","onUserSelect"]);const{isOpen:c,onToggle:l,onOpen:s,onClose:p}=tt(),[h,m]=d.exports.useState(),[u,g]=d.exports.useState(""),[y,x]=d.exports.useState(""),[R,b]=d.exports.useState([]),[A,E]=d.exports.useState(!1),F=O(),Y=P(),I=()=>{g(h?h.fullName:"Search for user...")},re=C=>{E(!0),F(nt(C)).unwrap().then(B=>{b(B),E(!1)}).catch(()=>{Y({title:"Could not fetch users",position:"top",status:"error",duration:2e3}),E(!1)})},De=R.filter(C=>C.fullName.toLocaleLowerCase().includes(y.toLocaleLowerCase()));return f(Et,S(w({areOptionsOpen:c},t),{children:[e(rt,{onClick:p,isActive:c}),f(Tt,{children:[e(At,{areOptionsOpen:c,areOptionsSelected:!!h,clearCb:()=>{m(void 0)},children:e(St,{autoComplete:"off",bg:"autoGrey.200",name:n||"",label:"Search for user...",placeholder:u,value:h?kt(h.fullName):y,onChange:C=>{const B=C.currentTarget.value;re(B),x(B),m(void 0),B&&s()},onFocus:()=>{I()}})}),e(Ot,{isOpen:c,children:A?f(L,{textAlign:"center",w:"full",children:["Fetching ..."," "]}):De.map(C=>e(at,{h:"80px",onClick:()=>{g(C.fullName),l(),r(C.id),a&&a(C),m(C)},children:f(_,{w:"full",py:"2",children:[e(U,{ratio:1/1,w:"50px",children:e(X,{w:"full",h:"full",src:C.avatar,fallbackSrc:Te,borderRadius:"100px"})}),e(L,{children:C.fullName})]})},C.id))})]})]}))},nr=({})=>{const r=O(),n=P(),{addingReview:a}=M(c=>c.customers),t={text:"",userId:"",photos:null},i=c=>{let l="";return c?c.length!==24&&(l="Invalid length"):l="Required",l},o=c=>{let l="";return c&&c.length>4&&(l="Photos must be less then 4"),l};return e(J,{initialValues:t,onSubmit:(c,{setErrors:l})=>{const m=c,{photos:s}=m,p=j(m,["photos"]),h=new FormData;if(s)for(let u of s)h.append("photo[]",u);for(let[u,g]of Object.entries(p))h.append(u,g);r(ot(h)).unwrap().then(()=>{r(Re("")),n({title:"New Review added",duration:2e3,status:"success",position:"top"})}).catch(u=>{var g;Se(u)&&u.status===422&&((g=u.errors)==null?void 0:g.length)&&l(Ce(u.errors))})},children:({setFieldValue:c})=>f(ee,{children:[e(L,{pb:"4",children:"Add new Review"}),e(W,{name:"userId",validate:i,children:({field:l,form:s})=>f(G,{children:[e(Le,S(w({},l),{name:"userId",onSelect:p=>{c("userId",p)}})),e(H,{as:"span",color:"red",children:s.errors.userId})]})}),e(W,{name:"text",children:({field:l})=>e(Oe,S(w({mt:"2"},l),{placeholder:"Write Description",size:"sm",as:Ne,maxRows:10}))}),e(W,{name:"photos",validate:o,children:({field:l,form:s})=>f(G,{children:[e("input",S(w({},l),{type:"file",multiple:!0,value:void 0,style:{marginTop:"12px"},onChange:p=>{c("photos",p.currentTarget.files)}})),e(H,{as:"span",display:"block",color:"red",children:s.errors.photos})]})}),e(te,{type:"submit",mt:"4",isLoading:a,children:"Add Review"})]})})},or=({})=>{const{reviews:r,removingReview:n,fetchingReviews:a}=M(o=>o.customers),t=O(),i=P();return d.exports.useEffect(()=>{t(Re(""))},[]),e(V,{pt:["32px",null,null,"40px"],children:e(le,{children:f(T,{spacing:"32px",children:[e(N,{maxW:"500px",p:"4",children:e(nr,{})}),e(N,{w:"full",maxW:"500px",children:e(T,{w:"full",children:a?f(G,{children:["Getting Reviews...",e(se,{})]}):r.length?r.map((o,c)=>{var l;return f(_,{bg:"autoGrey.200",w:"full",p:"4",borderRadius:"8",opacity:n?"0.5":"1",children:[e(oe,{icon:e(ie,{}),"aria-label":"remove review",isLoading:n,onClick:()=>{t(it(o.id)).then(()=>i({title:"Review Deleted",status:"success",duration:2e3,position:"top"})).catch(()=>i({title:"Could not delete the review, contact to the developer",status:"error",duration:2e3,position:"top"}))}}),e(U,{ratio:1/1,minW:"80px",children:e(X,{src:(l=o.user)==null?void 0:l.avatar,fallbackSrc:"https://image.shutterstock.com/image-vector/profile-picture-avatar-icon-vector-260nw-1760295569.jpg",borderRadius:"100px"})}),e(H,{overflowWrap:"anywhere",children:o.text}),o.photos&&o.photos.map(s=>e(U,{ratio:1/1,minW:"60px",children:e(X,{src:s})},s))]},c)}):e(G,{children:"No Review Yet"})})})]})})})},ir=({setSelectedUser:r})=>{const[n,a]=d.exports.useState([]),[t,i]=d.exports.useState(!1),[o,c]=d.exports.useState(1),[l,s]=d.exports.useState(1),p=20,h=O();d.exports.useEffect(()=>{m(o)},[o]);function m(u){i(!0),h(lt(`page=${u}&limit=${p}`)).unwrap().then(g=>{a(g.users),s(g.totalPages),i(!1)})}return f(T,{align:"flex-start",spacing:"0",children:[t&&e(le,{w:"full",children:e(se,{justifySelf:"center"})}),n.map((u,g)=>e(ze,{index:(o-1)*p+g+1,onClick:()=>r(u),avatar:u.avatar,mainText:u.fullName,secondaryText:u.role,verified:u.verified},u.id)),f(_,{w:"full",justify:"space-between",px:"2",py:"4",children:[e(z,{variant:"link",color:"#427AD6",disabled:o===1,onClick:()=>{c(u=>u-1)},children:"Prev"}),e(z,{variant:"link",color:"#427AD6",disabled:o===l,onClick:()=>{c(o+1)},children:"Next"})]})]})},lr=({operation:r,userId:n,car:a,closeDrawer:t})=>{const i=O(),o=P();let c;return a&&r==="modifying"?c={carName:a.carName,deliveryAt:a.deliveryAt?zt(a.deliveryAt.toString(),"-"):new Date,location:a.location,price:a.price,status:a.status}:c={carName:"",deliveryAt:new Date,location:"",price:0,status:""},e(J,{initialValues:c,onSubmit:(l,{setSubmitting:s})=>{r==="modifying"&&a?i(st({carId:a.id,props:S(w({},l),{userId:n})})).unwrap().then(()=>{s(!1),t()}).catch(p=>{s(!1),o({title:p,status:"error",position:"top"}),t()}):i(ct(S(w({},l),{userId:n}))).unwrap().then(()=>{s(!1),t()}).catch(p=>{o({title:p,status:"error",position:"top"}),s(!1),t()})},children:({isSubmitting:l})=>f(ee,{children:[e(v,{name:"carName",placeholder:"car name"}),e(v,{name:"location",placeholder:"Location"}),e(v,{name:"price",placeholder:"Price",type:"number"}),e(W,{name:"status",children:({field:s})=>e(ke,{pt:"2",children:f(Ae,S(w({},s),{bg:"#EAEAEB",opacity:"0.5",placeholder:"Status",children:[e("option",{value:"Completed",children:"Completed"}),e("option",{value:"On The Way",children:"On the way"})]}))})}),e(v,{name:"deliveryAt",bg:"#EAEAEB",opacity:"0.5",placeholder:"Status",type:"date",label:"Delivery at:  dd/mm/yyyy"}),e(te,{mt:"4",type:"submit",isLoading:l,children:r==="modifying"?"Update car":"Add Car"})]})})},sr=({isEditing:r,setIsEditing:n,operationOnTheCar:a,selectedUser:t,selectedCar:i,handleGetUserOrders:o})=>f(dt,{isOpen:r,placement:"right",onClose:()=>{n(!1)},size:"md",children:[e(pt,{}),f(ut,{children:[e(ht,{}),e(ft,{children:"Change/Add a Car"}),e(mt,{children:e(lr,{operation:a,userId:t?t.id:"",car:i,closeDrawer:()=>{n(!1),t&&o(t.id)}})})]})]}),cr=({})=>{const[r,n]=d.exports.useState([]),[a,t]=d.exports.useState(!1),[i,o]=d.exports.useState(),[c,l]=d.exports.useState(!1),[s,p]=d.exports.useState("adding"),[h,m]=d.exports.useState(),u=P(),g=O();function y(b){t(!0),g(gt(b)).unwrap().then(A=>{n(A),t(!1)}).catch(()=>t(!1))}function x(b){g(xt(b)).unwrap().then(()=>{i&&y(i.id)}).catch(A=>u({title:A,position:"top",status:"error"}))}function R(b){o(b),y(b.id)}return e(V,{pt:["32px",null,null,"40px"],children:f(Ee,{w:"full",justify:"flex-end",spacing:"4",direction:["column",null,"row"],align:"center",children:[e(N,{w:"full",maxW:"650px",p:"32px",alignSelf:"flex-start",children:f(T,{children:[e(L,{textAlign:"center",fontSize:"24px",children:"Add or Change Order"}),e(Le,{onSelect:()=>{},onUserSelect:R}),f(T,{pt:"4",w:"full",children:[i&&f(z,{mb:"2",onClick:()=>{l(!0),p("adding")},children:["+ add new Car for ",i.fullName]}),a?e(se,{}):r.length?r.map(b=>e(N,{w:"full",boxShadow:"0px 0px 10px lightgrey",children:f(T,{children:[f(_,{w:"full",justify:"space-between",children:[e(z,{variant:"ghost",color:"autoOrange.500",onClick:()=>{l(!0),p("modifying"),m(b)},children:"Modify order"}),e(oe,{onClick:()=>x(b.id),icon:e(ie,{}),"aria-label":"delete order"})]}),e(Nt,{order:b})]})},b.id)):e(L,{w:"full",textAlign:"center",pt:"4",children:"No Ordered Cars"})]})]})}),e(N,{maxW:["full","450px","250px"],px:"0",w:"full",alignSelf:"flex-start",children:e(ir,{setSelectedUser:R})}),e(sr,{isEditing:c,setIsEditing:l,operationOnTheCar:s,selectedUser:i,selectedCar:h,handleGetUserOrders:y})]})})},Sr=()=>{const{path:r}=vt(),n=O();return f(V,{children:[e(Ct,{}),f(Ee,{w:"full",justify:"center",pt:"4",direction:["column",null,"row"],align:"center",children:[e(z,{variant:"link",children:e(q,{to:`${r}/add-car`,style:{color:"black"},children:"Car"})}),e(Q,{height:"20px",borderColor:"black",display:["none",null,"block"]}),e(z,{variant:"link",children:e(q,{style:{color:"black"},to:`${r}/add-review`,children:"Review"})}),e(Q,{height:"20px",borderColor:"black",display:["none",null,"block"]}),e(z,{variant:"link",children:e(q,{style:{color:"black"},to:`${r}/add-order`,children:"Ordereds"})}),e(Q,{height:"20px",borderColor:"black",display:["none",null,"block"]}),e(z,{variant:"link",children:e(q,{style:{color:"black"},to:`${r}/banners`,children:"Banners"})}),e(Q,{height:"20px",borderColor:"black",display:["none",null,"block"]}),e(z,{color:"red",border:"1px solid",onClick:()=>n(bt()),children:"logout"})]}),f(yt,{children:[e($,{path:r,exact:!0,children:e(wt,{to:`${r}/add-review`})}),e($,{path:`${r}/add-car`,render:()=>e(ar,{}),exact:!0}),e($,{path:`${r}/add-review`,render:()=>e(or,{}),exact:!0}),e($,{path:`${r}/add-order`,render:()=>e(cr,{}),exact:!0}),e($,{path:`${r}/banners`,render:()=>e($t,{}),exact:!0})]})]})};export{Sr as AdminPage,Sr as default};
