import{r as l}from"./vendor.fc5c11f9.js";import{c as O}from"./PublicLayout.104a1ebc.js";import{s as j,a2 as S,v as p}from"./index.1f1e2cec.js";function E(a){var{loading:t,src:r,srcSet:e,onLoad:n,onError:i,crossOrigin:d,sizes:g,ignoreFallback:f}=a,[m,v]=l.exports.useState("pending");l.exports.useEffect(()=>{v(r?"loading":"pending")},[r]);var s=l.exports.useRef(),h=l.exports.useCallback(()=>{if(!!r){u();var o=new Image;o.src=r,d&&(o.crossOrigin=d),e&&(o.srcset=e),g&&(o.sizes=g),t&&(o.loading=t),o.onload=b=>{u(),v("loaded"),n==null||n(b)},o.onerror=b=>{u(),v("failed"),i==null||i(b)},s.current=o}},[r,d,e,g,n,i,t]),u=()=>{s.current&&(s.current.onload=null,s.current.onerror=null,s.current=null)};return O(()=>{if(!f)return m==="loading"&&h(),()=>{u()}},[m,h,f]),f?"loaded":m}function c(){return c=Object.assign||function(a){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(a[e]=r[e])}return a},c.apply(this,arguments)}function k(a,t){if(a==null)return{};var r={},e=Object.keys(a),n,i;for(i=0;i<e.length;i++)n=e[i],!(t.indexOf(n)>=0)&&(r[n]=a[n]);return r}var x=l.exports.forwardRef((a,t)=>{var{htmlWidth:r,htmlHeight:e,alt:n}=a,i=k(a,["htmlWidth","htmlHeight","alt"]);return l.exports.createElement("img",c({width:r,height:e,ref:t,alt:n},i))}),F=j((a,t)=>{var{fallbackSrc:r,fallback:e,src:n,srcSet:i,align:d,fit:g,loading:f,ignoreFallback:m,crossOrigin:v}=a,s=k(a,["fallbackSrc","fallback","src","srcSet","align","fit","loading","ignoreFallback","crossOrigin"]),h=f!=null||m||r===void 0&&e===void 0,u=E(c({},a,{ignoreFallback:h})),o=c({ref:t,objectFit:g,objectPosition:d},h?s:S(s,["onError","onLoad"]));return u!=="loaded"?e||l.exports.createElement(p.img,c({as:x,className:"chakra-image__placeholder",src:r},o)):l.exports.createElement(p.img,c({as:x,src:n,srcSet:i,crossOrigin:v,loading:f,className:"chakra-image"},o))});export{F as I};
