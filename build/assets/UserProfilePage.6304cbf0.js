var tt=Object.defineProperty,ot=Object.defineProperties;var rt=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var Se=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable;var ye=(o,r,e)=>r in o?tt(o,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[r]=e,_e=(o,r)=>{for(var e in r||(r={}))Se.call(r,e)&&ye(o,e,r[e]);if($)for(var e of $(r))be.call(r,e)&&ye(o,e,r[e]);return o},Pe=(o,r)=>ot(o,rt(r));var Ee=(o,r)=>{var e={};for(var t in o)Se.call(o,t)&&r.indexOf(t)<0&&(e[t]=o[t]);if(o!=null&&$)for(var t of $(o))r.indexOf(t)<0&&be.call(o,t)&&(e[t]=o[t]);return e};import{c as ge,be as ve,j as n,B as Be,ay as N,r as u,e as h,w as we,p as nt,o as P,b as z,f as xe,a as H,K as I,z as Ge,H as S,V as b,C as W,T as m,t as Re,bf as $e,bg as it,M as at,O as Me,y as st,G as Te,N as ct,P as lt,bh as pt,A as V,W as Z,a1 as Ce,bi as ht,az as ne,U as dt,a2 as Ye,bj as ut,a3 as ft,D as mt,bk as gt,v as vt,bl as wt,bm as xt,bn as ie,bo as Ct}from"./index.8597a41f.js";import{S as yt}from"./ScrollToTop.9976e144.js";import{U as St}from"./UserAvatar.4a8f272e.js";import{C as j}from"./Card.19089032.js";import{A as bt}from"./ArrowPrevIcon.d8cd395d.js";import{a as _t,S as Pt,s as Et}from"./SliderBlue.e6b27536.js";import{a as ze,T as E,c as Rt}from"./ButtonRound.3ba11ee7.js";import{I as J}from"./chakra-ui-image.esm.bf1f5a86.js";import{B as Mt,C as Tt}from"./CarCardHeading.beaa1f23.js";import{N as y}from"./NotSpecified.6e35b0ee.js";import{C as zt}from"./CatalogListWrap.282d2931.js";import{t as Ae}from"./toTrippleNumber.af3f6dfa.js";import{T as At,a as Dt,b as De,c as A,d as It,e as D,O as Wt}from"./OrderListCard.67dc6222.js";import{d as Ie}from"./dateToYMD.5f347133.js";import"./range.01ab8ccd.js";import"./useRoles.6ffe10b6.js";const ae=c=>{var s=c,{activeBg:o="autoOrange.100",activeColor:r="autoOrange.500",to:e,clickCallback:t,children:i}=s,a=Ee(s,["activeBg","activeColor","to","clickCallback","children"]);const l=ge(),p=ve({path:e,exact:!0});return n(Be,Pe(_e({w:"full",borderRadius:"none",display:"flex",justifyContent:["start",null,null,"center"],p:"32px 32px",fontWeight:"500",bg:p?o:"#fff",color:p?r:"#000",_hover:{bg:p?"autoOrange.200":"autoGrey.200"},_active:{bg:"autoOrange.300"},onClick:()=>{t?t():l.push(e)}},a),{children:i}))};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var se=function(o,r){return se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},se(o,r)};function Lt(o,r){se(o,r);function e(){this.constructor=o}o.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var f=function(){return f=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},f.apply(this,arguments)},We=!1,L,ce,le,K,Q,Xe,ee,pe,he,de,qe,ue,fe,Ve,Je;function x(){if(!We){We=!0;var o=navigator.userAgent,r=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(o),e=/(Mac OS X)|(Windows)|(Linux)/.exec(o);if(ue=/\b(iPhone|iP[ao]d)/.exec(o),fe=/\b(iP[ao]d)/.exec(o),de=/Android/i.exec(o),Ve=/FBAN\/\w+;/i.exec(o),Je=/Mobile/i.exec(o),qe=!!/Win64/.exec(o),r){L=r[1]?parseFloat(r[1]):r[5]?parseFloat(r[5]):NaN,L&&document&&document.documentMode&&(L=document.documentMode);var t=/(?:Trident\/(\d+.\d+))/.exec(o);Xe=t?parseFloat(t[1])+4:L,ce=r[2]?parseFloat(r[2]):NaN,le=r[3]?parseFloat(r[3]):NaN,K=r[4]?parseFloat(r[4]):NaN,K?(r=/(?:Chrome\/(\d+\.\d+))/.exec(o),Q=r&&r[1]?parseFloat(r[1]):NaN):Q=NaN}else L=ce=le=Q=K=NaN;if(e){if(e[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(o);ee=i?parseFloat(i[1].replace("_",".")):!0}else ee=!1;pe=!!e[2],he=!!e[3]}else ee=pe=he=!1}}var me={ie:function(){return x()||L},ieCompatibilityMode:function(){return x()||Xe>L},ie64:function(){return me.ie()&&qe},firefox:function(){return x()||ce},opera:function(){return x()||le},webkit:function(){return x()||K},safari:function(){return me.webkit()},chrome:function(){return x()||Q},windows:function(){return x()||pe},osx:function(){return x()||ee},linux:function(){return x()||he},iphone:function(){return x()||ue},mobile:function(){return x()||ue||fe||de||Je},nativeApp:function(){return x()||Ve},android:function(){return x()||de},ipad:function(){return x()||fe}},Nt=me,Y=!!(typeof window!="undefined"&&window.document&&window.document.createElement),Ot={canUseDOM:Y,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:Y&&!!(window.addEventListener||window.attachEvent),canUseViewport:Y&&!!window.screen,isInWorker:!Y},kt=Ot,Ke=kt,Qe;Ke.canUseDOM&&(Qe=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Ft(o,r){if(!Ke.canUseDOM||r&&!("addEventListener"in document))return!1;var e="on"+o,t=e in document;if(!t){var i=document.createElement("div");i.setAttribute(e,"return;"),t=typeof i[e]=="function"}return!t&&Qe&&o==="wheel"&&(t=document.implementation.hasFeature("Events.wheel","3.0")),t}var Ut=Ft,Zt=Nt,Ht=Ut,Le=10,Ne=40,Oe=800;function et(o){var r=0,e=0,t=0,i=0;return"detail"in o&&(e=o.detail),"wheelDelta"in o&&(e=-o.wheelDelta/120),"wheelDeltaY"in o&&(e=-o.wheelDeltaY/120),"wheelDeltaX"in o&&(r=-o.wheelDeltaX/120),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(r=e,e=0),t=r*Le,i=e*Le,"deltaY"in o&&(i=o.deltaY),"deltaX"in o&&(t=o.deltaX),(t||i)&&o.deltaMode&&(o.deltaMode==1?(t*=Ne,i*=Ne):(t*=Oe,i*=Oe)),t&&!r&&(r=t<1?-1:1),i&&!e&&(e=i<1?-1:1),{spinX:r,spinY:e,pixelX:t,pixelY:i}}et.getEventType=function(){return Zt.firefox()?"DOMMouseScroll":Ht("wheel")?"wheel":"mousewheel"};var jt=et,Bt=jt;function Gt(o,r,e,t,i,a){a===void 0&&(a=0);var c=O(o,r,a),s=c.width,l=c.height,p=Math.min(s,e),d=Math.min(l,t);return p>d*i?{width:d*i,height:d}:{width:p,height:p/i}}function $t(o){return o.width>o.height?o.width/o.naturalWidth:o.height/o.naturalHeight}function X(o,r,e,t,i){i===void 0&&(i=0);var a=O(r.width,r.height,i),c=a.width,s=a.height;return{x:ke(o.x,c,e.width,t),y:ke(o.y,s,e.height,t)}}function ke(o,r,e,t){var i=r*t/2-e/2;return te(o,-i,i)}function Fe(o,r){return Math.sqrt(Math.pow(o.y-r.y,2)+Math.pow(o.x-r.x,2))}function Ue(o,r){return Math.atan2(r.y-o.y,r.x-o.x)*180/Math.PI}function Yt(o,r,e,t,i,a,c){a===void 0&&(a=0),c===void 0&&(c=!0);var s=c?Xt:qt,l=O(r.width,r.height,a),p=O(r.naturalWidth,r.naturalHeight,a),d={x:s(100,((l.width-e.width/i)/2-o.x/i)/l.width*100),y:s(100,((l.height-e.height/i)/2-o.y/i)/l.height*100),width:s(100,e.width/l.width*100/i),height:s(100,e.height/l.height*100/i)},g=Math.round(s(p.width,d.width*p.width/100)),_=Math.round(s(p.height,d.height*p.height/100)),T=p.width>=p.height*t,v=T?{width:Math.round(_*t),height:_}:{width:g,height:Math.round(g/t)},w=f(f({},v),{x:Math.round(s(p.width-v.width,d.x*p.width/100)),y:Math.round(s(p.height-v.height,d.y*p.height/100))});return{croppedAreaPercentages:d,croppedAreaPixels:w}}function Xt(o,r){return Math.min(o,Math.max(0,r))}function qt(o,r){return r}function Vt(o,r,e,t,i,a){var c=O(r.width,r.height,e),s=te(t.width/c.width*(100/o.width),i,a),l={x:s*c.width/2-t.width/2-c.width*s*(o.x/100),y:s*c.height/2-t.height/2-c.height*s*(o.y/100)};return{crop:l,zoom:s}}function Jt(o,r,e){var t=$t(r);return e.height>e.width?e.height/(o.height*t):e.width/(o.width*t)}function Kt(o,r,e,t,i,a){e===void 0&&(e=0);var c=O(r.naturalWidth,r.naturalHeight,e),s=te(Jt(o,r,t),i,a),l=t.height>t.width?t.height/o.height:t.width/o.width,p={x:((c.width-o.width)/2-o.x)*l,y:((c.height-o.height)/2-o.y)*l};return{crop:p,zoom:s}}function Ze(o,r){return{x:(r.x+o.x)/2,y:(r.y+o.y)/2}}function Qt(o){return o*Math.PI/180}function O(o,r,e){var t=Qt(e);return{width:Math.abs(Math.cos(t)*o)+Math.abs(Math.sin(t)*r),height:Math.abs(Math.sin(t)*o)+Math.abs(Math.cos(t)*r)}}function te(o,r,e){return Math.min(Math.max(o,r),e)}function q(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];return o.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var eo=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,to=1,oo=3,ro=function(o){Lt(r,o);function r(){var e=o!==null&&o.apply(this,arguments)||this;return e.imageRef=null,e.videoRef=null,e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.state={cropSize:null,hasWheelJustStarted:!1},e.preventZoomSafari=function(t){return t.preventDefault()},e.cleanEvents=function(){document.removeEventListener("mousemove",e.onMouseMove),document.removeEventListener("mouseup",e.onDragStopped),document.removeEventListener("touchmove",e.onTouchMove),document.removeEventListener("touchend",e.onDragStopped)},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var t=e.computeSizes();t&&(e.emitCropData(),e.setInitialCrop(t)),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(t){if(e.props.initialCroppedAreaPercentages){var i=Vt(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,t,e.props.minZoom,e.props.maxZoom),a=i.crop,c=i.zoom;e.props.onCropChange(a),e.props.onZoomChange&&e.props.onZoomChange(c)}else if(e.props.initialCroppedAreaPixels){var s=Kt(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,t,e.props.minZoom,e.props.maxZoom),a=s.crop,c=s.zoom;e.props.onCropChange(a),e.props.onZoomChange&&e.props.onZoomChange(c)}},e.computeSizes=function(){var t,i,a,c,s,l,p=e.imageRef||e.videoRef;if(p&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect();var d=e.containerRect.width/e.containerRect.height,g=((t=e.imageRef)===null||t===void 0?void 0:t.naturalWidth)||((i=e.videoRef)===null||i===void 0?void 0:i.videoWidth)||0,_=((a=e.imageRef)===null||a===void 0?void 0:a.naturalHeight)||((c=e.videoRef)===null||c===void 0?void 0:c.videoHeight)||0,T=p.offsetWidth<g||p.offsetHeight<_,v=g/_,w=void 0;if(T)switch(e.props.objectFit){default:case"contain":w=d>v?{width:e.containerRect.height*v,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/v};break;case"horizontal-cover":w={width:e.containerRect.width,height:e.containerRect.width/v};break;case"vertical-cover":w={width:e.containerRect.height*v,height:e.containerRect.height};break}else w={width:p.offsetWidth,height:p.offsetHeight};e.mediaSize=f(f({},w),{naturalWidth:g,naturalHeight:_});var R=e.props.cropSize?e.props.cropSize:Gt(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((s=e.state.cropSize)===null||s===void 0?void 0:s.height)!==R.height||((l=e.state.cropSize)===null||l===void 0?void 0:l.width)!==R.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(R),e.setState({cropSize:R},e.recomputeCropPosition),R}},e.onMouseDown=function(t){t.preventDefault(),document.addEventListener("mousemove",e.onMouseMove),document.addEventListener("mouseup",e.onDragStopped),e.onDragStart(r.getMousePoint(t))},e.onMouseMove=function(t){return e.onDrag(r.getMousePoint(t))},e.onTouchStart=function(t){e.props.onTouchRequest&&!e.props.onTouchRequest(t)||(document.addEventListener("touchmove",e.onTouchMove,{passive:!1}),document.addEventListener("touchend",e.onDragStopped),t.touches.length===2?e.onPinchStart(t):t.touches.length===1&&e.onDragStart(r.getTouchPoint(t.touches[0])))},e.onTouchMove=function(t){t.preventDefault(),t.touches.length===2?e.onPinchMove(t):t.touches.length===1&&e.onDrag(r.getTouchPoint(t.touches[0]))},e.onDragStart=function(t){var i,a,c=t.x,s=t.y;e.dragStartPosition={x:c,y:s},e.dragStartCrop=f({},e.props.crop),(a=(i=e.props).onInteractionStart)===null||a===void 0||a.call(i)},e.onDrag=function(t){var i=t.x,a=t.y;e.rafDragTimeout&&window.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=window.requestAnimationFrame(function(){if(!!e.state.cropSize&&!(i===void 0||a===void 0)){var c=i-e.dragStartPosition.x,s=a-e.dragStartPosition.y,l={x:e.dragStartCrop.x+c,y:e.dragStartCrop.y+s},p=e.props.restrictPosition?X(l,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):l;e.props.onCropChange(p)}})},e.onDragStopped=function(){var t,i;e.cleanEvents(),e.emitCropData(),(i=(t=e.props).onInteractionEnd)===null||i===void 0||i.call(t)},e.onWheel=function(t){if(!(e.props.onWheelRequest&&!e.props.onWheelRequest(t))){t.preventDefault();var i=r.getMousePoint(t),a=Bt(t).pixelY,c=e.props.zoom-a*e.props.zoomSpeed/200;e.setNewZoom(c,i),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var s,l;return(l=(s=e.props).onInteractionStart)===null||l===void 0?void 0:l.call(s)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=window.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var s,l;return(l=(s=e.props).onInteractionEnd)===null||l===void 0?void 0:l.call(s)})},250)}},e.getPointOnContainer=function(t){var i=t.x,a=t.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(i-e.containerRect.left),y:e.containerRect.height/2-(a-e.containerRect.top)}},e.getPointOnMedia=function(t){var i=t.x,a=t.y,c=e.props,s=c.crop,l=c.zoom;return{x:(i+s.x)/l,y:(a+s.y)/l}},e.setNewZoom=function(t,i){if(!(!e.state.cropSize||!e.props.onZoomChange)){var a=e.getPointOnContainer(i),c=e.getPointOnMedia(a),s=te(t,e.props.minZoom,e.props.maxZoom),l={x:c.x*s-a.x,y:c.y*s-a.y},p=e.props.restrictPosition?X(l,e.mediaSize,e.state.cropSize,s,e.props.rotation):l;e.props.onCropChange(p),e.props.onZoomChange(s)}},e.getCropData=function(){if(!e.state.cropSize)return null;var t=e.props.restrictPosition?X(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return Yt(t,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var t=e.getCropData();if(!!t){var i=t.croppedAreaPercentages,a=t.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(i,a),e.props.onCropAreaChange&&e.props.onCropAreaChange(i,a)}},e.emitCropAreaChange=function(){var t=e.getCropData();if(!!t){var i=t.croppedAreaPercentages,a=t.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(i,a)}},e.recomputeCropPosition=function(){if(!!e.state.cropSize){var t=e.props.restrictPosition?X(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;e.props.onCropChange(t),e.emitCropData()}},e}return r.prototype.componentDidMount=function(){window.addEventListener("resize",this.computeSizes),this.containerRef&&(this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.preventZoomSafari),this.containerRef.addEventListener("gesturechange",this.preventZoomSafari)),this.props.disableAutomaticStylesInjection||(this.styleRef=document.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.styleRef.innerHTML=eo,document.head.appendChild(this.styleRef)),this.imageRef&&this.imageRef.complete&&this.onMediaLoad()},r.prototype.componentWillUnmount=function(){var e;window.removeEventListener("resize",this.computeSizes),this.containerRef&&(this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.containerRef.removeEventListener("gesturechange",this.preventZoomSafari)),this.styleRef&&((e=this.styleRef.parentNode)===null||e===void 0||e.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent()},r.prototype.componentDidUpdate=function(e){var t,i,a,c,s,l,p,d,g;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((t=e.cropSize)===null||t===void 0?void 0:t.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((a=e.cropSize)===null||a===void 0?void 0:a.width)!==((c=this.props.cropSize)===null||c===void 0?void 0:c.width)?this.computeSizes():(((s=e.crop)===null||s===void 0?void 0:s.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((p=e.crop)===null||p===void 0?void 0:p.y)!==((d=this.props.crop)===null||d===void 0?void 0:d.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((g=this.videoRef)===null||g===void 0||g.load())},r.prototype.getAspect=function(){var e=this.props,t=e.cropSize,i=e.aspect;return t?t.width/t.height:i},r.prototype.onPinchStart=function(e){var t=r.getTouchPoint(e.touches[0]),i=r.getTouchPoint(e.touches[1]);this.lastPinchDistance=Fe(t,i),this.lastPinchRotation=Ue(t,i),this.onDragStart(Ze(t,i))},r.prototype.onPinchMove=function(e){var t=this,i=r.getTouchPoint(e.touches[0]),a=r.getTouchPoint(e.touches[1]),c=Ze(i,a);this.onDrag(c),this.rafPinchTimeout&&window.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=window.requestAnimationFrame(function(){var s=Fe(i,a),l=t.props.zoom*(s/t.lastPinchDistance);t.setNewZoom(l,c),t.lastPinchDistance=s;var p=Ue(i,a),d=t.props.rotation+(p-t.lastPinchRotation);t.props.onRotationChange&&t.props.onRotationChange(d),t.lastPinchRotation=p})},r.prototype.render=function(){var e=this,t=this.props,i=t.image,a=t.video,c=t.mediaProps,s=t.transform,l=t.crop,p=l.x,d=l.y,g=t.rotation,_=t.zoom,T=t.cropShape,v=t.showGrid,w=t.style,R=w.containerStyle,B=w.cropAreaStyle,G=w.mediaStyle,k=t.classes,oe=k.containerClassName,re=k.cropAreaClassName,C=k.mediaClassName,M=t.objectFit;return N.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(U){return e.containerRef=U},"data-testid":"container",style:R,className:q("reactEasyCrop_Container",oe)},i?N.createElement("img",f({alt:"",className:q("reactEasyCrop_Image",M==="contain"&&"reactEasyCrop_Contain",M==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",M==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",C)},c,{src:i,ref:function(U){return e.imageRef=U},style:f(f({},G),{transform:s||"translate("+p+"px, "+d+"px) rotate("+g+"deg) scale("+_+")"}),onLoad:this.onMediaLoad})):a&&N.createElement("video",f({autoPlay:!0,loop:!0,muted:!0,className:q("reactEasyCrop_Video",M==="contain"&&"reactEasyCrop_Contain",M==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",M==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",C)},c,{ref:function(U){return e.videoRef=U},onLoadedMetadata:this.onMediaLoad,style:f(f({},G),{transform:s||"translate("+p+"px, "+d+"px) rotate("+g+"deg) scale("+_+")"}),controls:!1}),(Array.isArray(a)?a:[{src:a}]).map(function(F){return N.createElement("source",f({key:F.src},F))})),this.state.cropSize&&N.createElement("div",{style:f(f({},B),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:q("reactEasyCrop_CropArea",T==="round"&&"reactEasyCrop_CropAreaRound",v&&"reactEasyCrop_CropAreaGrid",re)}))},r.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:oo,minZoom:to,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0},r.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},r.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},r}(N.Component),no=ro;const io=({zoom:o,imageUrl:r,onCropComplete:e,onZoomChange:t})=>{const[i,a]=u.exports.useState({x:0,y:0});return n(no,{image:r,crop:i,zoom:o,cropShape:"round",aspect:1/1,onCropChange:a,onCropComplete:e,onZoomChange:t})},ao=({acceptedFileTypes:o,setFile:r,setFilePath:e,setIsEditing:t})=>{const i=u.exports.useRef(null),a=s=>{s.currentTarget.files&&(e(URL.createObjectURL(s.currentTarget.files[0])),r(s.currentTarget.files[0]),t(!0))};return h(we,{onClick:()=>{var s;console.log("clicked"),(s=i.current)==null||s.click()},h:"120%",cursor:"pointer",children:[n(nt,{bg:"tranparent",h:"full",w:"full",children:"upload a file"}),n("input",{type:"file",accept:o,ref:i,onChange:s=>a(s),style:{display:"none"}})]})},so=({onChange:o,value:r,min:e,max:t,step:i})=>h(P,{w:"full",justify:"center",children:[n(ze,{fontSize:"30px",_active:{bg:"autoGrey.200"},onClick:()=>{r>e&&o(_t(r,.1))},children:"-"}),n(Pt,{sliderValue:r,value:r,min:e,max:t,step:i,onChange:a=>o(a),w:"50%"}),n(ze,{fontSize:"20px",_active:{bg:"autoGrey.200"},onClick:()=>{r<t&&o(Et(r,.1))},children:"+"})]}),co=o=>new Promise((r,e)=>{const t=new Image;t.addEventListener("load",()=>r(t)),t.addEventListener("error",i=>e(i)),t.setAttribute("crossOrigin","anonymous"),t.src=o});function lo(o){return o*Math.PI/180}async function po(o,r,e=0){const t=await co(o),i=document.createElement("canvas"),a=i.getContext("2d"),c=Math.max(t.width,t.height),s=2*(c/2*Math.sqrt(2));i.width=s,i.height=s,a==null||a.translate(s/2,s/2),a==null||a.rotate(lo(e)),a==null||a.translate(-s/2,-s/2),a==null||a.drawImage(t,s/2-t.width*.5,s/2-t.height*.5);const l=a==null?void 0:a.getImageData(0,0,s,s);return i.width=r.width,i.height=r.height,l&&(a==null||a.putImageData(l,Math.round(0-s/2+t.width*.5-r.x),Math.round(0-s/2+t.height*.5-r.y))),new Promise(p=>{i.toBlob(d=>{p(d)},"image/jpeg")})}const He=({toast:o,message:r})=>{o({title:r,status:"error",duration:2e3,isClosable:!0,position:"top"})},je=({})=>{const[o,r]=u.exports.useState(1.3),[e,t]=u.exports.useState(null),[i,a]=u.exports.useState(null),[c,s]=u.exports.useState(""),[l,p]=u.exports.useState(!1),[d,g]=u.exports.useState(null),[_,T]=u.exports.useState(!1),v=z(C=>C.userInfoSlice.avatar),w=xe(),R=H(),B=()=>{l?(p(!1),s("")):R($e())},G=C=>{r(C)},k=u.exports.useCallback((C,M)=>{t(M)},[]),oe=async()=>{const C=await po(c,e);r(1),s(URL.createObjectURL(C)),p(!1),g(C)};u.exports.useEffect(()=>{v&&(s(v),p(!0))},[]);const re=async()=>{const C=new FormData;d?(C.append("profile-avatar",d,"coppedImage.jpg"),T(!0),R(it(C)).unwrap().then(()=>{T(!1),B()}).catch(M=>{console.log("error: ",M),T(!1),He({toast:w,message:"Unable to save photo. Please, try later"})})):He({toast:w,message:"Please Choose the picture."})};return h(I,{children:[h(P,{position:"absolute",left:"10px",top:"20px",spacing:"2",children:[n(Ge,{position:"relative",top:"0",left:"0",as:bt,boxSize:6}),n(S,{fontSize:"20px",children:"Profile Picture"})]}),h(b,{w:"full",pt:"32px",spacing:"2",children:[n(W,{p:"8",children:n(we,{h:"180px",w:"180px",borderRadius:"1000px",bg:"autoBlue.400",position:"relative",overflow:"hidden",children:n(io,{imageUrl:c,zoom:o,onZoomChange:G,onCropComplete:k})})}),n(ao,{setFilePath:s,setFile:a,acceptedFileTypes:"image/*",setIsEditing:p}),l&&h(I,{children:[n(m,{fontSize:"16px",children:"Scale and Crop"}),n(so,{min:1,max:3,step:.1,value:o,onChange:r})]}),h(P,{w:"full",pt:"24px",children:[n(Re,{bg:"autoGrey.400",color:"black",_active:{bg:"autoGrey.600"},onClick:B,children:"Cancel"}),n(Re,{isLoading:_,onClick:()=>{l?oe():re()},children:l?"Crop":"Save"})]})]})]})},ho=({})=>{const{isChangeProfilePictureOpen:o,screen:r}=z(a=>a.globalAppState),{isDesktop:e}=r,t=H(),i=()=>t($e());return n(I,{children:e?h(at,{isOpen:o,onClose:i,isCentered:!0,blockScrollOnMount:!0,children:[n(Me,{}),h(st,{p:"32px 48px",w:"450px",children:[n(Ge,{top:"30px",right:"48px"}),n(je,{}),n(Te,{p:"0"})]})]}):h(ct,{isOpen:o,placement:"bottom",onClose:i,size:"full",children:[n(Me,{}),n(lt,{maxH:"100%",children:n(Te,{children:n(W,{h:"full",children:n(b,{w:"full",children:n(je,{})})})})})]})})},uo=({})=>{const[o,r]=u.exports.useState(""),{path:e}=ve(),t=H(),{avatar:i,fullName:a,phone:c}=z(s=>s.userInfoSlice);return u.exports.useEffect(()=>{i&&r(i)},[i]),h(j,{bg:"white",p:"0",w:["full",null,null,"200px"],maxH:"400px",children:[n(we,{p:"32px",children:n(St,{username:a,image:o,secondaryText:`+995 ${c}`,size:"70px",showPhotoChange:!0})}),n(ho,{}),h(b,{pb:"24px",spacing:"0",children:[n(ae,{to:`${e}/order-list`,children:"Order List"}),n(ae,{to:`${e}/favourites`,children:"Favourites"}),n(ae,{to:"/home",clickCallback:()=>t(pt()),children:"Log out"})]})]})},fo=({car:o})=>{const r=ge();return n(j,{bg:"autoGrey.500",w:"full",p:"0",cursor:"pointer",onClick:()=>r.push(`/catalog/car/${o.id}`),children:h(P,{w:"full",justify:"space-between",p:"16px",align:"stretch",children:[h(P,{spacing:"4",minW:"220px",p:"0",children:[n(V,{ratio:78/66,minW:"78px",children:n(J,{src:o==null?void 0:o.imgUrls[0],borderRadius:"8px",fallbackSrc:"https://via.placeholder.com/150"})}),h(b,{align:"flex-start",children:[n(E,{children:"Name"}),h(m,{fontSize:"16px",fontWeight:"500",children:[o.m?Z(o.m):n(y,{})," ",o.mG?Z(o.mG):n(y,{pl:"2",children:""})]})]})]}),h(b,{align:"flex-start",w:"full",maxW:"80px",pt:"2",children:[n(E,{children:"Year"}),n(m,{fontSize:"16px",fontWeight:"500",children:o.y||n(y,{})})]}),h(b,{align:"flex-start",w:"full",pt:"2",children:[n(E,{children:"Damage"}),n(m,{fontSize:"16px",fontWeight:"500",children:o.dmg?n(I,{children:Z(o.dmg)}):n(y,{})})]}),h(b,{align:"flex-start",w:"full",pt:"2",children:[n(E,{children:"Location"}),n(m,{fontSize:"16px",fontWeight:"500",children:o.lC||n(y,{})})]}),h(b,{align:"flex-start",w:"full",pt:"2",children:[n(E,{children:"Engine"}),n(m,{fontSize:"16px",fontWeight:"500",children:o.eng||n(y,{})})]}),n(Mt,{carId:o.id,h:"46px",w:"45px"})]})})},mo=({})=>{const{favouriteCars:o}=z(e=>e.userInfoSlice),{favouriteCarsFetching:r}=z(e=>e.userInfoSlice);return n(j,{w:"full",p:"32px",children:n(b,{w:"full",spacing:"4",children:r?n(W,{w:"full",h:"300px",children:n(Ce,{})}):o.length?o.map(e=>n(fo,{car:e},e.id)):n(W,{w:"full",h:"300px",children:n(S,{children:"Your Favourites list is empty"})})})})},go=({car:o})=>{const r=o.imgUrls,e=ge();return n(j,{w:"full",p:"4",onClick:()=>e.push(`/catalog/car/${o.id}`),children:h(b,{spacing:"4",children:[n(Tt,{model:`${o.m} ${o.mG}`,id:o.id,year:Number(o.y)}),h(ht,{gridTemplateAreas:'"a a b" "a a c"',w:"full",maxH:"130px",gap:"2",children:[n(V,{overflow:"hidden",borderRadius:"8px",ratio:191/130,w:"full",gridArea:"a",maxH:"130px",children:n(J,{src:r[0]?r[0]:void 0,fallbackSrc:ne,borderRadius:"8px"})}),n(V,{ratio:191/130,w:"full",gridArea:"b",maxH:"61px",children:n(J,{src:r[1]?r[1]:void 0,fallbackSrc:ne,borderRadius:"8px"})}),n(V,{ratio:191/130,w:"full",gridArea:"c",maxH:"61px",children:n(J,{src:r[2]?r[2]:void 0,fallbackSrc:ne,borderRadius:"8px"})})]}),h(b,{divider:n(dt,{}),w:"full",children:[h(P,{w:"full",justify:"space-between",children:[n(E,{children:"Damage"}),n(S,{children:o.dmg?Rt(o.dmg):n(y,{})})]}),h(P,{w:"full",justify:"space-between",children:[n(E,{children:"Mileage"}),n(S,{children:o.od?Ae(o.od):n(y,{})})]}),h(P,{w:"full",justify:"space-between",children:[n(E,{children:"Location"}),n(S,{children:o.lC?Z(o.lC):n(y,{})})]}),h(P,{w:"full",justify:"space-between",children:[n(E,{children:"Engine"}),n(S,{children:o.eng?Z(o.eng.toString()):n(y,{})})]}),h(P,{w:"full",justify:"space-between",children:[n(E,{children:"Esimate Price"}),n(S,{children:o.price?h(I,{children:["$ ",Ae(o.price)]}):n(y,{})})]}),h(P,{w:"full",justify:"space-between",children:[n(E,{children:"Total Price"}),n(S,{children:"$20 000"})]})]})]})})},vo=({})=>{const{favouriteCars:o}=z(r=>r.userInfoSlice);return n(I,{children:o.length?n(zt,{pt:"48px",children:o.map(r=>n(go,{car:r},r.id))}):n(W,{children:n(S,{children:"Your favourites list is empty"})})})},wo=({})=>{const{isDesktop:o}=Ye(),r=H();return u.exports.useEffect(()=>{r(ut("")),r(ft(""))},[]),n(I,{children:o?n(mo,{}):n(vo,{})})},xo=({})=>n(wo,{}),Co=({orderList:o})=>{const[r,e]=u.exports.useState([]),t=z(c=>c.orderedCars.fetching),i=xe(),a=c=>{r.includes(c)?e(r.filter(s=>s!==c)):e(r.concat(c))};return n(j,{p:"32px",w:"full",children:t?n(W,{w:"full",h:"full",children:n(Ce,{})}):o.length?h(At,{children:[n(Dt,{children:h(De,{opacity:"0.5",fontSize:"14px",fontWeight:"light",children:[n(A,{p:[null,null,null,"2","4"],isTruncated:!0,fontWeight:"light",children:n(m,{textTransform:"capitalize",children:"Order Id"})}),n(A,{fontWeight:"light",px:"2",children:n(m,{textTransform:"capitalize",children:"Name"})}),n(A,{fontWeight:"light",px:"2",children:n(m,{textTransform:"capitalize",children:"Purchase date"})}),n(A,{isTruncated:!0,fontWeight:"light",children:n(m,{textTransform:"capitalize",children:"Delivery Date"})}),n(A,{fontWeight:"light",p:[null,null,null,"2","4"],children:n(m,{textTransform:"capitalize",children:"Location"})}),n(A,{isTruncated:!0,p:"4",fontWeight:"light",children:n(m,{textTransform:"capitalize",children:"Total Price"})}),n(A,{fontWeight:"light",children:n(m,{textTransform:"capitalize",children:"Status"})}),n(A,{fontWeight:"light"})]})}),n(It,{children:o.map((c,s)=>h(De,{pt:"50px",_hover:{bg:"autoGrey.100"},children:[n(D,{w:"full",px:"4",title:c.id,py:[null,null,"8","8",""],children:n(S,{w:"80px",isTruncated:!0,cursor:"pointer",onClick:()=>navigator.clipboard.writeText(c.id).then(()=>i({title:"Id copied to the clipboard",status:"success",position:"top"})),children:c.id})}),n(D,{title:c.carName,px:"",children:n(m,{noOfLines:r.includes(s)?10:1,fontSize:"16px",w:"100px",children:c.carName})}),n(D,{px:"2",children:c.createdAt?Ie(c.createdAt.toString()):n(y,{})}),h(D,{children:[c.deliveryAt?Ie(c.deliveryAt.toString()):n(y,{})," "]}),h(D,{p:[null,null,null,"2","4"],children:[c.location," "]}),n(D,{px:"4",title:`$ ${c.price}`,children:h(m,{fontSize:"inherit",maxW:"80px",isTruncated:!0,children:["$ ",c.price*1]})}),h(D,{children:[n(m,{whiteSpace:"nowrap",children:c.status})," "]}),n(D,{p:"0",children:n(Be,{variant:"link",minH:"50px",onClick:()=>a(s),children:n(mt,{transform:r.includes(s)?"rotate(180deg)":"none",transition:"all .2s"})})})]},s))})]}):n(W,{w:"full",h:"full",children:n(S,{children:"Your order list is empty"})})})},yo=({orderList:o})=>{const r=z(e=>e.orderedCars.fetching);return n(b,{w:"full",spacing:"24px",pt:"48px",children:r?n(W,{children:n(Ce,{})}):o.length?o.map((e,t)=>n(Wt,{order:e},t)):n(S,{children:"Your order list is empty"})})},So=({})=>{const[o,r]=u.exports.useState([]),{isDesktop:e}=Ye(),t=z(c=>c.userInfoSlice.id),i=xe(),a=H();return u.exports.useEffect(()=>{t&&a(gt(t)).unwrap().then(c=>r(c)).catch(c=>i({title:c,status:"error",position:"top"}))},[t]),n(I,{children:e?n(Co,{orderList:o}):n(yo,{orderList:o})})},Uo=()=>{const{path:o}=ve();return h(vt,{pt:["16px","26px","32px","48px"],children:[n(yt,{}),h(wt,{direction:["column",null,null,"row"],spacing:"24px",w:"full",children:[n(uo,{}),h(xt,{children:[n(ie,{exact:!0,path:o,render:()=>n(Ct,{to:`${o}/order-list`})}),n(ie,{exact:!0,path:`${o}/order-list`,render:()=>n(So,{})}),n(ie,{exact:!0,path:`${o}/favourites`,render:()=>n(xo,{})})]})]})]})};export{Uo as UserProfilePage,Uo as default};
