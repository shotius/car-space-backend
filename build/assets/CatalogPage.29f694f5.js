var Ue=Object.defineProperty,Ze=Object.defineProperties;var Qe=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var ke=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable;var Fe=(t,n,s)=>n in t?Ue(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,O=(t,n)=>{for(var s in n||(n={}))ke.call(n,s)&&Fe(t,s,n[s]);if(U)for(var s of U(n))we.call(n,s)&&Fe(t,s,n[s]);return t},Oe=(t,n)=>Ze(t,Qe(n));var M=(t,n)=>{var s={};for(var a in t)ke.call(t,a)&&n.indexOf(a)<0&&(s[a]=t[a]);if(t!=null&&U)for(var a of U(t))n.indexOf(a)<0&&we.call(t,a)&&(s[a]=t[a]);return s};import{R as e,r as p,u as Te}from"./vendor.506dd9e8.js";import{u as qe,H as y,Z as Xe,V as S,b as x,N as Je,a as et,_ as k,S as ve,T as Z,q as tt,I as te,$ as nt,a0 as lt,W as Ae,m as Me,a1 as Ie,k as Re,j as T,a2 as Q,P as st,l as at}from"./PublicLayout.69ee19e4.js";import{e as d,d as h,ai as De,V as L,aj as He,ak as rt,h as ct,al as ot,am as _,an as G,ao as N,ap as Y,aq as W,ar as V,as as q,at as Le,au as je,av as it,aw as P,ax as $,ay as K,az as ze,B as ne,aA as le,aB as X,aC as Be,aD as ut,aE as pt,aF as mt,aG as dt,aH as ft}from"./index.ce29a962.js";import{b as se,c as B}from"./DropdownIcon.d77763e6.js";import{C as _e,S as Et}from"./Card.3a6b92ef.js";import{I as ht}from"./image.bfb47504.js";import{C as gt,c as ae,d as re,e as F,f as ce}from"./SelectWrapper.b6c0d3f2.js";import{A as St,u as Ge,S as oe,B as xt,C as J,M as Ct,Y as bt,a as Ne,b as v,c as A,d as yt,e as kt,s as wt}from"./submitCarsSearch.50cf027c.js";import{A as Ft}from"./ArrowPrevIcon.99ca4c8a.js";import{u as Ye,a as Ot}from"./useMediaQueryMin.dc3bee9a.js";import{B as j,C as Tt}from"./CatalogListWrap.19eb5635.js";import{S as vt,B as We}from"./button.c3901463.js";import"./prop-types.d6ec705b.js";import"./formik.b6109983.js";import"./react-redux.84e4588f.js";import"./axios.7b768d2b.js";import"./focus-visible.064b564c.js";import"./swiper.3c4df1c1.js";import"./aspect-ratio.1e6791cf.js";import"./react-swipeable.5aa2e132.js";var At="/assets/car with bg-1@2x.99b4319f.png";const Mt=({})=>{const{isCatalogBannerOpen:t}=d(a=>a.globalAppState),n=h(),{isDesktop:s}=qe();return e.createElement(e.Fragment,null,s&&e.createElement(_e,{w:"full",p:"30px",display:t?"block":"none"},e.createElement(y,{spacing:"32px",position:"relative"},e.createElement(ht,{src:At,w:["110px"],loading:"lazy"}),e.createElement(se,{icon:Xe,boxSize:6,position:"absolute",right:"-2",top:"-2",_active:{bg:"autoGrey.400"},onClick:()=>n(De())}),e.createElement(S,{alignItems:"flex-start"},e.createElement(L,{fontSize:"16px"},"Certified Car"),e.createElement(x,{fontSize:"14px",lineHeight:"24px",opacity:"63%",pr:"35px"},"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Doloremque, magnam deleniti voluptatum officiis tempore aperiam quasi error hic reiciendis facilis dicta saepe quam vel ex tempora impedit accusamus blanditiis nisi? aperiam quasi error accusamus blanditiis nisi?")))))},It=s=>{var a=s,{children:t}=a,n=M(a,["children"]);return e.createElement(_e,O({bg:["transparent",null,"autoBlue.400"],p:["0",null,"16px"],w:"full",minH:"auto"},n),t)},Rt=({activePage:t,totalPages:n,onChange:s,paginNumbers:a})=>{const{isDesktop:c,isMobile:u,isTablet:o}=d(b=>b.globalAppState.screen),[l,i]=p.exports.useState([]),[r,m]=p.exports.useState([]),[E,g]=p.exports.useState([]),{isLargerThan:w}=Ye(360);let f=3;o&&(f=5),c&&(f=10);const C=l.length===1,I=r.length===1,R=t>r.length-f;return p.exports.useEffect(()=>{t===f?i(a.slice(0,f+1)):t>f?i([1]):i(a.slice(0,f)),t>f&&t<=n-f?g(u?[t-1,t,t+1]:[t-2,t-1,t,t+1,t+2]):g([]),t===n-f+1?(m(a.slice(n-f-1,n)),i([1])):t>n-f?(m(a.slice(n-f,n)),i([1])):m([n]),a.length<f+3&&(i([...a]),g([]),m([]))},[t,n]),e.createElement(y,null,w?e.createElement(y,{w:"full",display:a.length>1?"flex":"none"},l.map(b=>e.createElement(j,{key:b,onClick:()=>s(b),active:t===b},e.createElement(L,{fontSize:"18px",fontWeight:"light"},b))),e.createElement(x,{display:C?"block":"none"},"..."),E.map(b=>e.createElement(j,{key:b,onClick:()=>s(b),active:t===b},e.createElement(L,{fontSize:"18px",fontWeight:"light"},b))),e.createElement(x,{display:I?"block":"none"},"..."),r.map(b=>e.createElement(j,{key:b,onClick:()=>s(b),active:t===b,display:w&&R?"block":"none"},e.createElement(L,{fontSize:"18px",fontWeight:"light"},b)))):e.createElement(e.Fragment,null,e.createElement(x,{display:t>1?"block":"none"},"..."),e.createElement(j,{active:!0},e.createElement(L,{fontSize:"18px",fontWeight:"light"},t)),e.createElement(x,{display:t<a.length?"block":"none"},"...")))},Dt=c=>{var u=c,{activePage:t,totalPages:n=1,onPageChange:s}=u,a=M(u,["activePage","totalPages","onPageChange"]);const o=[...Array(n).keys()].map(l=>l+1);return e.createElement(y,O({spacing:["1","2"]},a),e.createElement(se,{variant:"ghost",bg:"transparent",icon:Ft,disabled:t===1,onClick:()=>s(t-1),boxSize:"6",_active:{bg:"autoGrey.400"},display:n===1?"none":"block"}),e.createElement(Rt,{activePage:t,totalPages:n,onChange:s,paginNumbers:o}),e.createElement(se,{variant:"ghost",bg:"transparent",icon:St,fill:"#000",boxSize:"6",disabled:t===n,onClick:()=>s(t+1),_active:{bg:"autoGrey.400"},display:n===1?"none":"block"}))},Ht=()=>{const{cars:t,fethingCars:n}=d(C=>C.carsReducer),{totalPages:s,activePage:a}=d(C=>C.carsPagination),{isAuthenticated:c}=d(C=>C.userInfoSlice),u=Ot(),o=p.exports.useRef(),{networkError:l,catalogQuery:i}=d(C=>C.globalAppState);p.exports.useEffect(()=>{l&&f()},[l]);const r=h(),m=Te(),E=Ge(),g=Number(E.get("page"))||1;p.exports.useEffect(()=>(i?m.push({search:i}):(console.log("here",g),a?E.set("page",a.toString()):E.set("page",g.toString()),m.push({search:E.toString()}),r(He(E.get("page"))),r(rt(E.toString()))),()=>{r(De())}),[]),p.exports.useEffect(()=>{c&&r(ct())},[c]),p.exports.useEffect(()=>{i!==E.toString()&&(console.log("back on catalog",i,E.toString()),console.log("query",E.toString()),r(ot(E)),r(He(E.get("page"))),setTimeout(()=>window.scrollTo(0,0)))},[g,i]);const w=C=>{E.set("page",String(C)),m.push({search:E.toString()})},f=()=>{o.current=u({title:l,status:"error",position:"top",duration:3e3,isClosable:!0})};return n?e.createElement(S,{h:"100vh",w:"full"},e.createElement(vt,null)):e.createElement(S,{spacing:"90px",w:"full"},t.length?e.createElement(Tt,{gap:"16px"},t.map((C,I)=>e.createElement(Je,{justify:"center",key:I},e.createElement(gt,{car:C})))):e.createElement(et,null,"No Results found"),e.createElement(Dt,{totalPages:s,activePage:g,onPageChange:C=>w(C),display:t.length?"flex":"none"}))},Lt=()=>e.createElement("svg",{id:"Group_975","data-name":"Group 975",xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 40 40"},e.createElement("g",{id:"Rectangle_160","data-name":"Rectangle 160",fill:"none",stroke:"#3d405b",strokeWidth:"1.5"},e.createElement("rect",{width:"40",height:"40",rx:"8",stroke:"none"}),e.createElement("rect",{x:"0.75",y:"0.75",width:"38.5",height:"38.5",rx:"7.25",fill:"none"})),e.createElement("g",{id:"Group_937","data-name":"Group 937",transform:"translate(8 8)"},e.createElement("path",{id:"Path_454","data-name":"Path 454",d:"M0,0H24V24H0Z",fill:"none"}),e.createElement("path",{id:"Path_1582","data-name":"Path 1582",d:"M2.651,20.667a.96.96,0,0,0,.457.258,1.061,1.061,0,0,0,.522,0,1.012,1.012,0,0,0,.456-.254l6.266-6.278,6.272,6.277a1.027,1.027,0,0,0,1.435,0,1,1,0,0,0,.289-.723.968.968,0,0,0-.286-.713L11.79,12.954l6.272-6.265a.988.988,0,0,0,.291-.717.946.946,0,0,0-.294-.719,1,1,0,0,0-.723-.29.961.961,0,0,0-.712.287l-6.272,6.275L4.086,5.249a1,1,0,0,0-.456-.255,1.108,1.108,0,0,0-.522,0,.892.892,0,0,0-.457.262,1.028,1.028,0,0,0-.257.461,1.061,1.061,0,0,0,0,.522.951.951,0,0,0,.254.452l6.265,6.267L2.648,19.231a.993.993,0,0,0-.259.452,1.043,1.043,0,0,0,0,.527A.926.926,0,0,0,2.651,20.667Z",transform:"translate(1.647 -0.961)",fill:"#3d405b"}))),jt=()=>e.createElement("svg",{id:"Group_974","data-name":"Group 974",xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 40 40"},e.createElement("g",{id:"Rectangle_160","data-name":"Rectangle 160",fill:"none",stroke:"#3d405b",strokeWidth:"1.5"},e.createElement("rect",{width:"40",height:"40",rx:"8",stroke:"none"}),e.createElement("rect",{x:"0.75",y:"0.75",width:"38.5",height:"38.5",rx:"7.25",fill:"none"})),e.createElement("g",{id:"Group_131","data-name":"Group 131",transform:"translate(8 8)"},e.createElement("path",{id:"Path_454","data-name":"Path 454",d:"M0,0H24V24H0Z",fill:"none"}),e.createElement("path",{id:"Path_455","data-name":"Path 455",d:"M5.336,14.8a2.4,2.4,0,0,1,4.528,0H18v1.6H9.864a2.4,2.4,0,0,1-4.528,0H2V14.8Zm4.8-5.6a2.4,2.4,0,0,1,4.528,0H18v1.6H14.664a2.4,2.4,0,0,1-4.528,0H2V9.2Zm-4.8-5.6a2.4,2.4,0,0,1,4.528,0H18V5.2H9.864a2.4,2.4,0,0,1-4.528,0H2V3.6ZM7.6,5.2a.8.8,0,1,0-.8-.8A.8.8,0,0,0,7.6,5.2Zm4.8,5.6a.8.8,0,1,0-.8-.8A.8.8,0,0,0,12.4,10.8ZM7.6,16.4a.8.8,0,1,0-.8-.8A.8.8,0,0,0,7.6,16.4Z",transform:"translate(2 2.002)",fill:"#3d405b"}))),D=l=>{var i=l,{selected:t,label:n,children:s,clearSelected:a,onApply:c,size:u}=i,o=M(i,["selected","label","children","clearSelected","onApply","size"]);const[r,m]=p.exports.useState(!1),[E,g]=p.exports.useState("");p.exports.useEffect(()=>{t.length?g(`${t.join(", ")}`):g(n)},[t]);const w=()=>m(!1);return e.createElement(ae,{areOptionsOpen:r},e.createElement(re,{isActive:r,onClick:()=>{w(),c()}}),e.createElement(F,null,e.createElement(oe,{size:u,areOptionsOpen:r,clearCb:f=>{f.stopPropagation&&f.stopPropagation(),a(),m(!1)},areOptionsSelected:!!t.length,onClick:()=>m(f=>!f)},e.createElement(y,{pl:"4",pr:"28px",h:"40px",w:"full",bg:"white",_hover:{bg:"autoGrey.200"},borderRadius:"8px"},e.createElement(x,{opacity:r?"1":"0.5",noOfLines:1},E))),e.createElement(ce,O({isOpen:r},o),s)))},z=s=>{var a=s,{children:t}=a,n=M(a,["children"]);return e.createElement(We,O({p:"4",w:"full",whiteSpace:"normal",borderRadius:"none",textAlign:"start",display:"flex",justifyContent:"flex-start",fontWeight:"400",variant:"ghost",_hover:{bg:"autoGrey.100"}},n),t)},zt=({})=>{const[t,n]=p.exports.useState([]),{conditions:s}=d(l=>l.carsReducer),{conditions:a}=d(l=>l.selectedCarFilters),c=h(),u=s.filter(l=>l);p.exports.useEffect(()=>{a.length&&n(a)},[a]);const o=l=>{t.includes(l)?n(t.filter(i=>i!==l)):n([l].concat(t))};return e.createElement(D,{size:"md",selected:t,label:"condition",clearSelected:()=>{n([]),c(_([]))},onApply:()=>c(_(t)),top:"35px"},e.createElement(F,null,u.map(l=>e.createElement(z,{key:l,onClick:i=>{i.preventDefault(),o(l)}},e.createElement(k,{colorScheme:"autoOrange",isChecked:t==null?void 0:t.includes(l)},e.createElement(x,{w:"full"},l))))))},Bt=({})=>{const[t,n]=p.exports.useState([]),{cylinders:s}=d(l=>l.carsReducer),{cylinders:a}=d(l=>l.selectedCarFilters),c=h(),u=s.filter(l=>l);p.exports.useEffect(()=>{a.length&&n(a)},[a]);const o=l=>{t.includes(l)?n(t.filter(i=>i!==l)):n([l].concat(t))};return e.createElement(D,{size:"md",selected:t,label:"cylinders",clearSelected:()=>{n([]),c(G([]))},onApply:()=>c(G(t)),top:"35px"},e.createElement(F,null,u.map(l=>e.createElement(z,{key:l,onClick:i=>{i.preventDefault(),o(l)}},e.createElement(k,{colorScheme:"autoOrange",isChecked:t==null?void 0:t.includes(l)},e.createElement(x,{w:"full"},l))))))},_t=({})=>{const[t,n]=p.exports.useState([]),{drives:s}=d(l=>l.carsReducer),{drives:a}=d(l=>l.selectedCarFilters),c=h(),u=s.filter(l=>l);p.exports.useEffect(()=>{a.length&&n(a)},[a]);const o=l=>{t.includes(l)?n(t.filter(i=>i!==l)):n([l].concat(t))};return e.createElement(D,{size:"md",selected:t,label:"drives",clearSelected:()=>{n([]),c(N([]))},onApply:()=>c(N(t)),top:"35px"},e.createElement(F,null,u.map(l=>e.createElement(z,{key:l,onClick:i=>{i.preventDefault(),o(l)}},e.createElement(k,{colorScheme:"autoOrange",isChecked:t==null?void 0:t.includes(l)},e.createElement(x,{w:"full"},l))))))},Gt=n=>{var t=M(n,[]);const[s,a]=p.exports.useState(!1),[c,u]=p.exports.useState(0),[o,l]=p.exports.useState(0),[i,r]=p.exports.useState(""),{engineFrom:m,engineTo:E}=d(f=>f.selectedCarFilters),g=h();p.exports.useEffect(()=>{r(c||o?`${c} - ${o}`:"engine")},[c,o]),p.exports.useEffect(()=>{m&&u(Number(m)),E&&l(Number(E))},[m,E]);const w=(f,C)=>{const I=[];for(let R=f;R<=C;R=parseFloat(((R*100+10)/100).toFixed(1)))I.push(R);return I};return e.createElement(ae,Oe(O({},t),{areOptionsOpen:s,bg:"white",borderRadius:"8px"}),e.createElement(re,{isActive:s,onClick:()=>{a(!1),g(Y(c)),g(W(o))}}),e.createElement(F,null,e.createElement(oe,{areOptionsOpen:s,clearCb:f=>{f.stopPropagation&&f.stopPropagation(),l(0),u(0),g(Y(0)),g(W(0)),r(""),a(!1)},areOptionsSelected:!!(c||o),onClick:()=>a(f=>!f)},e.createElement(y,{pl:"4",h:"40px",w:"full",_hover:{bg:"autoGrey.200"},borderRadius:"8px"},e.createElement(x,{opacity:s?"1":"0.5"},i))),e.createElement(ce,{isOpen:s,w:"full"},e.createElement(y,{h:"290px",w:"full",divider:e.createElement(ve,{borderColor:"autoGrey.400"}),pr:"2px"}," ",e.createElement(S,{h:"full",w:"full",spacing:"4"},e.createElement(x,{fontSize:"16px"},"From"),e.createElement(S,{h:"full",w:"full",spacing:"4",overflowY:"scroll",css:{"&::-webkit-scrollbar":{display:"none"}}},w(.5,6).map(f=>e.createElement(Z,{fontSize:"16px",key:f,lineHeight:"21px",w:"full",color:c===f?"autoOrange.400":"#000",onClick:()=>{u(f),f>=o&&l(f)}},f.toFixed(1))))),e.createElement(S,{h:"full",w:"full",spacing:"4"},e.createElement(x,{fontSize:"16px"},"To"),e.createElement(S,{h:"full",w:"full",spacing:"4",overflowY:"scroll",css:{"&::-webkit-scrollbar":{display:"none"}}},w(.5,6).map(f=>e.createElement(Z,{fontSize:"16px",key:f,lineHeight:"21px",w:"full",color:o===f?"autoOrange.400":"#000",onClick:()=>{l(f),f<=c&&u(f)}},f.toFixed(1)))))))))},Nt=({})=>{const[t,n]=p.exports.useState([]),{fuels:s}=d(l=>l.carsReducer),{fuels:a}=d(l=>l.selectedCarFilters),c=h(),u=s.filter(l=>l);p.exports.useEffect(()=>{a.length&&n(a)},[a]);const o=l=>{t.includes(l)?n(t.filter(i=>i!==l)):n([l].concat(t))};return e.createElement(D,{size:"md",selected:t,label:"fuel type",clearSelected:()=>{n([]),c(V([]))},onApply:()=>c(V(t)),top:"35px"},e.createElement(F,null,u.map(l=>e.createElement(z,{key:l,onClick:i=>{i.preventDefault(),o(l)}},e.createElement(k,{colorScheme:"autoOrange",isChecked:t==null?void 0:t.includes(l)},e.createElement(x,{w:"full"},l))))))},Yt=({})=>{const[t,n]=p.exports.useState(null),s=h();return e.createElement(D,{size:"md",selected:[],label:"keys",clearSelected:()=>n(null),onApply:()=>s(q(t)),top:"35px"},e.createElement(F,null))},Wt=tt({displayName:"EuroIcon",viewBox:"0 0 12 23",path:e.createElement(e.Fragment,null,e.createElement("text",{id:"_","data-name":"\u20AC",transform:"translate(0 19)",fontSize:"20",fontFamily:"HelveticaNeue, Helvetica Neue"},e.createElement("tspan",{x:"0",y:"0"},"\u20AC")))}),Ve=({currency:t,setCurrency:n})=>e.createElement(y,{borderRadius:"8px",bg:"white",spacing:"2px",flexBasis:"30%",justify:"space-between",p:"7px"},e.createElement(j,{onClick:()=>n("GEL"),active:t==="GEL"},e.createElement(te,{as:nt,fill:t==="GEL"?"#fff":"#000",boxSize:7,fontWeight:"400"})),e.createElement(j,{onClick:()=>n("USD"),active:t==="USD"},e.createElement(te,{as:lt,boxSize:6,fontWeight:"400",fill:t==="USD"?"#fff":"#000"})),e.createElement(j,{onClick:()=>n("EUR"),active:t==="EUR",fontSize:"20px",fontWeight:"400"},e.createElement(te,{as:Wt,boxSize:6,fontWeight:"400",fill:t==="EUR"?"#fff":"#000"}))),Vt=({})=>{const[t,n]=p.exports.useState(!1),[s,a]=p.exports.useState("GEL"),[c,u]=p.exports.useState(""),[o,l]=p.exports.useState(void 0),[i,r]=p.exports.useState(void 0),m=h(),E=()=>{switch(s){case"GEL":return"\u20BE";case"EUR":return"\u20AC";case"USD":return"$"}};return p.exports.useEffect(()=>{u(i&&o?`price: ${E()} ${o} - ${i} `:"price")},[o,i,s]),e.createElement(ae,{areOptionsOpen:t},e.createElement(re,{isActive:t,onClick:()=>{n(!1),m(Le(o)),m(je(i)),m(it(s))}}),e.createElement(F,null,e.createElement(oe,{size:"md",areOptionsOpen:t,clearCb:g=>{g.stopPropagation&&g.stopPropagation(),m(Le()),m(je()),l(void 0),r(void 0),u("Price"),n(!1)},areOptionsSelected:!!o&&!!i,onClick:()=>n(g=>!g)},e.createElement(y,{pl:"4",h:"40px",w:"full",bg:"white",_hover:{bg:"autoGrey.200"},borderRadius:"8px"},e.createElement(x,{opacity:t?"1":"0.5"},c))),e.createElement(ce,{isOpen:t,w:"full",top:"35px"},e.createElement(S,{p:"0px 16px 16px",align:"flex-start"},e.createElement(Ve,{currency:s,setCurrency:a}),e.createElement(S,null,e.createElement(Ae,{placeholder:"From",h:"37px",type:"number",value:o,onChange:g=>l(g.currentTarget.value)}),e.createElement(Ae,{placeholder:"To",h:"37px",type:"number",value:i,onChange:g=>r(g.currentTarget.value)}))))))},Pt=({})=>{const[t,n]=p.exports.useState([]),{salesStatus:s}=d(l=>l.carsReducer),{salesStatus:a}=d(l=>l.selectedCarFilters),c=h(),u=s.filter(l=>l);p.exports.useEffect(()=>{a.length&&n(a)},[a]);const o=l=>{t.includes(l)?n(t.filter(i=>i!==l)):n([l].concat(t))};return e.createElement(D,{size:"md",selected:t,label:"sale status",clearSelected:()=>{n([]),c(P([]))},onApply:()=>c(P(t)),top:"35px"},e.createElement(F,null,u.map(l=>e.createElement(z,{key:l,onClick:i=>{i.preventDefault(),o(l)}},e.createElement(k,{colorScheme:"autoOrange",isChecked:t==null?void 0:t.includes(l)},e.createElement(x,{w:"full"},l))))))},$t=({})=>{const[t,n]=p.exports.useState([]),s=h(),{transmissions:a}=d(l=>l.carsReducer),{transmission:c}=d(l=>l.selectedCarFilters),u=a.filter(l=>l);p.exports.useEffect(()=>{c.length&&n(c)},[c]);const o=l=>{t.includes(l)?n(t.filter(i=>i!==l)):n([l].concat(t))};return e.createElement(D,{size:"md",selected:t,label:"transmission",clearSelected:()=>{n([]),s($([]))},onApply:()=>s($(t))},e.createElement(F,null,u.map(l=>e.createElement(z,{key:l,onClick:i=>{i.preventDefault(),o(l)}},e.createElement(k,{colorScheme:"autoOrange",isChecked:t==null?void 0:t.includes(l)},e.createElement(x,null,l))))))},Kt=({})=>{const[t,n]=p.exports.useState([]),{types:s}=d(l=>l.carsReducer),{types:a}=d(l=>l.selectedCarFilters),c=h(),u=s.filter(l=>l);p.exports.useEffect(()=>{a.length&&n(a)},[a]);const o=l=>{t.includes(l)?n(t.filter(i=>i!==l)):n([l].concat(t))};return e.createElement(D,{size:"md",selected:t,label:"types",clearSelected:()=>{n([]),c(K([]))},onApply:()=>c(K(t)),top:"35px"},e.createElement(F,null,u.map(l=>e.createElement(z,{key:l,onClick:i=>{i.preventDefault(),o(l)}},e.createElement(k,{colorScheme:"autoOrange",isChecked:t==null?void 0:t.includes(l)},e.createElement(x,{w:"full"},l))))))},Ut=o=>{var l=o,{p:t="2",bg:n="#fff",direction:s="row",borderRadius:a="md",onSubmit:c}=l,u=M(l,["p","bg","direction","borderRadius","onSubmit"]);const i=h(),{isAdvancedFiltersOpen:r}=d(E=>E.selectedCarFilters),m=()=>i(ze());return e.createElement(e.Fragment,null,e.createElement(Me,O({p:t,bg:n,direction:s,borderRadius:a,alignItems:"center"},u),e.createElement(xt,{labelPadding:"2",w:["100%","100%","100%"]}),e.createElement(J,{height:["40px",null,null,"30px"],borderColor:"gray.300"}),e.createElement(Ct,null),e.createElement(J,{height:["40px",null,null,"30px"],borderColor:"gray.300"}),e.createElement(bt,null),e.createElement(y,{spacing:{md:"0",xl:"2"}},e.createElement(Ne,{w:{md:"140px",lg:"144px","2xl":"211px"},ml:[null,null,"0px","16px"],mr:"2",onClick:c}),r?e.createElement(Ie,{icon:e.createElement(Lt,null),onClick:m,"aria-label":"close advanced filters",bg:"white",_hover:{bg:"white"},_active:{bg:"white"}}):e.createElement(Ie,{onClick:m,icon:e.createElement(jt,null),"aria-label":"open advanced filters",bg:"white",_hover:{bg:"white"},_active:{bg:"white"}}))),e.createElement(Re,{in:r},e.createElement(Et,{templateColumns:[null,"1fr 1fr","repeat(3, 1fr)","repeat(5, 1fr)"],spacingX:"4",spacingY:"2",mt:["2","4",null,"4",null,"24px"]},e.createElement(Vt,null),e.createElement(Gt,null),e.createElement(zt,null),e.createElement(Kt,null),e.createElement($t,null),e.createElement(Yt,null),e.createElement(_t,null),e.createElement(Pt,null),e.createElement(Nt,null),e.createElement(Bt,null))))},Zt=l=>{var i=l,{isKeyboardActive:t,children:n,w:s="full",bottom:a="10px",pr:c="4",pl:u="4"}=i,o=M(i,["isKeyboardActive","children","w","bottom","pr","pl"]);return e.createElement(e.Fragment,null,t?e.createElement(ne,O({w:s,position:"fixed",bottom:a,pr:c,pl:u,zIndex:"modal"},o),n):e.createElement(ne,O({w:s},o),n))},Qt=({isOpen:t,onClose:n})=>{const{keys:s}=d(l=>l.selectedCarFilters),[a,c]=p.exports.useState(s),u=h();p.exports.useEffect(()=>{c(s)},[]);const o=()=>{a&&u(q(a)),n()};return e.createElement(v,{isOpen:t,onClose:n,onSubmit:o},e.createElement(S,{w:"full",alignItems:"flex-start"},e.createElement(y,null,e.createElement("input",{type:"radio",name:"has_keys",value:"YES",checked:a==="YES",onChange:()=>c("YES")}),e.createElement(x,null,"Yes")),e.createElement(y,null,e.createElement("input",{type:"radio",name:"has_keys",value:"NO",checked:a==="NO",onChange:()=>c("NO")}),e.createElement(x,null,"No"))))},qt=({})=>{const{isOpen:t,onOpen:n,onClose:s}=T(),a=h(),{keys:c}=d(u=>u.selectedCarFilters);return e.createElement(e.Fragment,null,e.createElement(A,{onClick:n,label:c?`Keys: ${c}`:"Keys",hasValue:!!c,onClear:()=>a(q(null))}),e.createElement(Qt,{isOpen:t,onClose:s}))},Xt=({isOpen:t,onClose:n})=>{const[s,a]=p.exports.useState([]),c=h(),{conditions:u}=d(r=>r.carsReducer),{conditions:o}=d(r=>r.selectedCarFilters);p.exports.useEffect(()=>{o.length&&a(o)},[o]);const l=()=>u.filter(r=>r),i=r=>{s.includes(r)?a(s.filter(m=>m!==r)):a(s.concat(r))};return e.createElement(v,{isOpen:t,onClose:n,onSubmit:()=>{c(_(s)),n()}},e.createElement(S,{w:"full",alignItems:"flex-start",minH:"80vh",spacing:"16px"},l().map(r=>e.createElement(k,{colorScheme:"autoOrange",defaultChecked:o==null?void 0:o.includes(r),onChange:m=>{m.preventDefault(),i(r)},key:r},B(r)))))},Jt=({})=>{const{isOpen:t,onOpen:n,onClose:s}=T(),a=h(),{conditions:c}=d(u=>u.selectedCarFilters);return e.createElement(e.Fragment,null,e.createElement(A,{onClick:n,label:c.length?`Condition: ${B(c.join("; "))}`:"Condition",hasValue:!!c.length,onClear:()=>a(_([]))}),e.createElement(Xt,{isOpen:t,onClose:s}))},en=({isOpen:t,onClose:n})=>{const[s,a]=p.exports.useState([]),c=h(),{cylinders:u}=d(r=>r.carsReducer),{cylinders:o}=d(r=>r.selectedCarFilters);p.exports.useEffect(()=>{o.length&&a(o)},[o]);const l=()=>u.filter(r=>r),i=r=>{s.includes(r)?a(s.filter(m=>m!==r)):a(s.concat(r))};return e.createElement(v,{isOpen:t,onClose:n,onSubmit:()=>{c(G(s)),n()}},e.createElement(S,{w:"full",alignItems:"flex-start",maxH:"80vh",spacing:"16px"},l().map(r=>e.createElement(k,{colorScheme:"autoOrange",defaultChecked:o==null?void 0:o.includes(r),onChange:m=>{m.preventDefault(),i(r)},key:r},r))))},tn=({})=>{const{isOpen:t,onOpen:n,onClose:s}=T(),a=h(),{cylinders:c}=d(u=>u.selectedCarFilters);return e.createElement(e.Fragment,null,e.createElement(A,{onClick:n,label:c.length?`Cylinders: ${c.join(", ")}`:"Cylinders",hasValue:!!c.length,onClear:()=>a(G([]))}),e.createElement(en,{isOpen:t,onClose:s}))},nn=({isOpen:t,onClose:n})=>{const[s,a]=p.exports.useState([]),c=h(),{drives:u}=d(r=>r.carsReducer),{drives:o}=d(r=>r.selectedCarFilters);p.exports.useEffect(()=>{o.length&&a(o)},[o]);const l=()=>u.filter(r=>r),i=r=>{s.includes(r)?a(s.filter(m=>m!==r)):a(s.concat(r))};return e.createElement(v,{isOpen:t,onClose:n,onSubmit:()=>{c(N(s)),n()}},e.createElement(S,{w:"full",alignItems:"flex-start",spacing:"16px",maxH:"80vh"},l().map(r=>e.createElement(k,{colorScheme:"autoOrange",defaultChecked:o==null?void 0:o.includes(r),onChange:m=>{m.preventDefault(),i(r)},key:r},r))))},ln=({})=>{const{isOpen:t,onOpen:n,onClose:s}=T(),a=h(),{drives:c}=d(u=>u.selectedCarFilters);return e.createElement(e.Fragment,null,e.createElement(A,{onClick:n,label:c.join(", ")||"Drives",hasValue:!!c.length,onClear:()=>a(N([]))}),e.createElement(nn,{isOpen:t,onClose:s}))},sn=({isOpen:t,onClose:n})=>{const{engineFrom:s,engineTo:a}=d(E=>E.selectedCarFilters),[c,u]=p.exports.useState(s||.5),[o,l]=p.exports.useState(a||.5),i=h(),r=(E,g)=>{const w=[];for(let f=E;f<=g;f=parseFloat(((f*100+10)/100).toFixed(1)))w.push(f);return w},m=()=>{i(Y(c)),i(W(o)),n()};return e.createElement(v,{isOpen:t,onClose:n,onSubmit:m},e.createElement(y,{h:"full",divider:e.createElement(ve,{borderColor:"autoGrey.400"})},e.createElement(S,{h:"full",w:"full",spacing:"4"},e.createElement(L,{fontSize:"16px",fontWeight:"600"},"From"),e.createElement(S,{h:"full",w:"full",spacing:"4",overflowY:"scroll"},r(.5,6).map(E=>e.createElement(Z,{fontSize:"16px",key:E,lineHeight:"21px",w:"full",color:c===E?"autoOrange.400":"#000",onClick:()=>{u(E),E>=o&&l(E)}},E.toFixed(1))))),e.createElement(S,{h:"full",w:"full",spacing:"4"},e.createElement(L,{fontSize:"16px",fontWeight:"600"},"To"),e.createElement(S,{h:"full",w:"full",spacing:"4",overflowY:"scroll"},r(.5,6).map(E=>e.createElement(Z,{fontSize:"16px",key:E,lineHeight:"21px",w:"full",color:o===E?"autoOrange.400":"#000",onClick:()=>{l(E),E<=c&&u(E)}},E.toFixed(1)))))))},an=({})=>{const{isOpen:t,onClose:n,onOpen:s}=T(),a=h(),{engineFrom:c,engineTo:u}=d(o=>o.selectedCarFilters);return e.createElement(e.Fragment,null,e.createElement(A,{label:c&&u?`Engine (from - to): ${Number(c).toFixed(1)}L -  ${Number(u).toFixed(1)}L `:"Engine",onClick:s,hasValue:!!(c&&u),onClear:()=>{a(Y(null)),a(W(null))}}),e.createElement(sn,{onClose:n,isOpen:t}))},rn=({isOpen:t,onClose:n})=>{const[s,a]=p.exports.useState([]),c=h(),{fuels:u}=d(r=>r.carsReducer),{fuels:o}=d(r=>r.selectedCarFilters);p.exports.useEffect(()=>{o.length&&a(o)},[o]);const l=()=>u.filter(r=>r),i=r=>{s.includes(r)?a(s.filter(m=>m!==r)):a(s.concat(r))};return e.createElement(v,{isOpen:t,onClose:n,onSubmit:()=>{c(V(s)),n()}},e.createElement(S,{w:"full",alignItems:"flex-start",spacing:"16px",minH:"30vh"},l().map(r=>e.createElement(k,{colorScheme:"autoOrange",defaultChecked:o==null?void 0:o.includes(r),onChange:m=>{m.preventDefault(),i(r)},key:r},B(r)))))},cn=({})=>{const{isOpen:t,onOpen:n,onClose:s}=T(),a=h(),{fuels:c}=d(u=>u.selectedCarFilters);return e.createElement(e.Fragment,null,e.createElement(A,{onClick:n,label:c.length?`Fuel: ${B(c.join(", "))}`:"Fuel Types",hasValue:!!c.length,onClear:()=>a(V([]))}),e.createElement(rn,{isOpen:t,onClose:s}))},on=({isOpen:t,onClose:n})=>{const[s,a]=p.exports.useState([]),c=h(),{locations:u}=d(r=>r.carsReducer),{locations:o}=d(r=>r.selectedCarFilters);p.exports.useEffect(()=>{o.length?a(o):a([])},[o]);const l=()=>u.filter(r=>r),i=r=>{s.includes(r)?a(s.filter(m=>m!==r)):a(s.concat(r))};return e.createElement(v,{isOpen:t,onClose:n,onSubmit:()=>{c(le(s)),n()}},e.createElement(S,{w:"full",alignItems:"flex-start",spacing:"16px"},l().map(r=>e.createElement(k,{colorScheme:"autoOrange",defaultChecked:o==null?void 0:o.includes(r),onChange:m=>{m.preventDefault(),i(r)},key:r},r))))},un=s=>{var a=s,{w:t="full"}=a,n=M(a,["w"]);const{isOpen:c,onOpen:u,onClose:o}=T(),l=h(),{locations:i}=d(r=>r.selectedCarFilters);return e.createElement(ne,O({minW:t,maxW:t},n),e.createElement(A,{onClick:u,label:i.length?` ${i.join(", ")}`:"Locations",hasValue:!!i.length,onClear:()=>l(le([]))}),e.createElement(on,{isOpen:c,onClose:o}))},pn=({isOpen:t,onClose:n})=>{const[s,a]=p.exports.useState([]),c=h(),{salesStatus:u}=d(i=>i.carsReducer),{salesStatus:o}=d(i=>i.selectedCarFilters);p.exports.useEffect(()=>{o.length&&a(o)},[o]);const l=i=>{s.includes(i)?a(s.filter(r=>r!==i)):a(s.concat(i))};return e.createElement(v,{isOpen:t,onClose:n,onSubmit:()=>{c(P(s)),n()}},e.createElement(S,{w:"full",alignItems:"flex-start",maxH:"80vh",spacing:"16px"},u.map(i=>e.createElement(k,{colorScheme:"autoOrange",defaultChecked:o==null?void 0:o.includes(i),onChange:r=>{r.preventDefault(),l(i)},key:i},i))))},mn=({})=>{const{isOpen:t,onOpen:n,onClose:s}=T(),a=h(),{salesStatus:c}=d(u=>u.selectedCarFilters);return e.createElement(e.Fragment,null,e.createElement(A,{onClick:n,label:c.length?`Sales Status: ${c.join(", ")}`:"Sales Status",hasValue:!!c.length,onClear:()=>a(P([]))}),e.createElement(pn,{isOpen:t,onClose:s}))},dn=({isOpen:t,onClose:n})=>{const{transmission:s}=d(r=>r.selectedCarFilters),[a,c]=p.exports.useState(s),u=h(),o=["Manual","Automatic","CVT"];p.exports.useEffect(()=>{c(s)},[]);const l=r=>{if(!a.includes(r))c([...a,r]);else{const m=a.filter(E=>E!=r);c(m)}},i=()=>{u($(a)),n()};return e.createElement(v,{isOpen:t,onClose:n,onSubmit:i},e.createElement(S,{w:"full",alignItems:"flex-start"},o.map(r=>e.createElement(k,{colorScheme:"autoOrange",defaultChecked:s==null?void 0:s.includes(r),onChange:m=>{m.preventDefault(),l(r)},boxShadow:"none !important",shadow:"none !important",key:r},r))))},fn=({})=>{const{isOpen:t,onOpen:n,onClose:s}=T(),a=h(),{transmission:c}=d(u=>u.selectedCarFilters);return e.createElement(e.Fragment,null,e.createElement(A,{onClick:n,label:c.length?`Transmission: ${c.join(", ")}`:"Transmission",hasValue:!!c.length,onClear:()=>a($([]))}),e.createElement(dn,{isOpen:t,onClose:s}))},En=({isOpen:t,onClose:n})=>{const[s,a]=p.exports.useState([]),c=h(),{types:u}=d(r=>r.carsReducer),{types:o}=d(r=>r.selectedCarFilters);p.exports.useEffect(()=>{o.length&&a(o)},[o]);const l=()=>u.filter(r=>r),i=r=>{s.includes(r)?a(s.filter(m=>m!==r)):a(s.concat(r))};return e.createElement(v,{isOpen:t,onClose:n,onSubmit:()=>{c(K(s)),n()}},e.createElement(S,{w:"full",alignItems:"flex-start",minH:"80vh",spacing:"16px"},l().map(r=>e.createElement(k,{colorScheme:"autoOrange",defaultChecked:o==null?void 0:o.includes(r),onChange:m=>{m.preventDefault(),i(r)},key:r},B(r)))))},hn=({})=>{const{isOpen:t,onOpen:n,onClose:s}=T(),a=h(),{types:c}=d(u=>u.selectedCarFilters);return e.createElement(e.Fragment,null,e.createElement(A,{onClick:n,label:c.length?`Types: ${B(c.join("; "))}`:"Type",hasValue:!!c.length,onClear:()=>a(K([]))}),e.createElement(En,{isOpen:t,onClose:s}))},gn=({setKeyboardActive:t})=>{const[n,s]=p.exports.useState(""),[a,c]=p.exports.useState(""),{yearFrom:u,yearTo:o}=d(i=>i.selectedCarFilters),l=h();return p.exports.useEffect(()=>{s(u?u.toString():""),c(o?o.toString():"")},[u,o]),e.createElement(y,{borderRadius:"8px",bg:"white",spacing:0,flex:"1",p:"2px"},e.createElement(Q,{pr:"2",placeholder:"Year from",type:"number",value:n,onChange:i=>s(i.currentTarget.value),onFocus:()=>t(!0),onBlur:()=>{t(!1),l(n?X(parseInt(n)):X(0))}}),e.createElement(J,{height:"30px"}),e.createElement(Q,{placeholder:"Year to",type:"number",value:a,onChange:i=>c(i.currentTarget.value),onFocus:()=>t(!0),onBlur:()=>{t(!1),l(a?Be(parseInt(a)):X(0))}}))},Sn=({onSubmit:t})=>{const[n,s]=p.exports.useState("GEL"),{isAdvancedFiltersOpen:a}=d(l=>l.selectedCarFilters),c=h(),[u,o]=p.exports.useState(!1);return e.createElement(Me,null,e.createElement(yt,null),e.createElement(kt,null),e.createElement(gn,{setKeyboardActive:o}),e.createElement(y,{justify:"space-between"},e.createElement(y,{borderRadius:"8px",bg:"white",spacing:0,flex:"1",p:"2px"},e.createElement(Q,{pr:"2",placeholder:"Price from",type:"number",onFocus:()=>o(!0),onBlur:()=>o(!1)}),e.createElement(J,{height:"30px"}),e.createElement(Q,{placeholder:"Price to",type:"number",onFocus:()=>o(!0),onBlur:()=>o(!1)})),e.createElement(Ve,{currency:n,setCurrency:s})),e.createElement(Re,{in:a},e.createElement(S,null,e.createElement(an,null),e.createElement(Jt,null),e.createElement(hn,null),e.createElement(un,null),e.createElement(fn,null),e.createElement(qt,null),e.createElement(ln,null),e.createElement(mn,null),e.createElement(cn,null),e.createElement(tn,null))),e.createElement(S,{pt:"2",spacing:"3"},e.createElement(Zt,{isKeyboardActive:u},e.createElement(Ne,{w:"full",isKeyboardActive:u,onClick:t})),e.createElement(We,{variant:"link",onClick:()=>c(ze()),bg:"transparent"},e.createElement(x,{color:"#000",display:u?"none":"block",lineHeight:"19px",fontWeight:"400"},a?"See less filter":"See more filter"))))},xn=(t,n)=>{const s=n.slice().sort();return t.length===n.length&&t.slice().sort().every(function(a,c){return a===s[c]}),!1},Cn=({modelQueryKeys:t,brands:n,query:s})=>{const a=[];return n.map(c=>a.push({brand:c,models:[]})),t.map(c=>{const u=c.slice(c.indexOf("[")+1,c.indexOf("]")),o=s.getAll(c);a.push({brand:u,models:o})}),a.filter(c=>c.models.length)},bn=()=>{const{isLargerThan:t}=Ye(737),n=Ge(),s=h(),a=Te(),{MODEL:c,YEAR_FROM:u,YEAR_TO:o,CONDITION:l,TYPE:i,LOCATION:r,TRANSMISSION:m,KEYS:E,DRIVE:g,SALES_STATUS:w,FUEL_TYPE:f,CYLINDER:C,ENGINE_FROM:I,ENGINE_TO:R}=dt,{brands:b}=d(H=>H.selectedCarFilters),Pe=d(H=>H.selectedCarFilters);p.exports.useEffect(()=>{const H=n.getAll("brand");xn(H,b)||s(ut(H));const $e=[...new Set(Array.from(n.keys()).filter(Ke=>Ke.includes(`${c}[`)))],ue=Cn({brands:H,modelQueryKeys:$e,query:n});ue.length&&s(pt(ue));const pe=n.get(u);pe&&s(X(parseInt(pe)));const me=n.get(o);me&&s(Be(parseInt(me)));const de=n.get(I);de&&s(Y(de));const fe=n.get(R);fe&&s(W(fe));const Ee=n.getAll(l);Ee.length&&s(_(Ee));const he=n.getAll(i);he.length&&s(K(he));const ge=n.getAll(g);ge.length&&s(N(ge));const Se=n.getAll(r);Se.length&&s(le(Se));const xe=n.getAll(m);xe.length&&s($(xe));const ee=n.get(E);(ee==="NO"||ee==="YES")&&s(q(ee));const Ce=n.getAll(w);Ce.length&&s(P(Ce));const be=n.getAll(f);be.length&&s(V(be));const ye=n.getAll(C);ye.length&&s(G(ye))},[n]),p.exports.useEffect(()=>{s(mt())},[]);const ie=()=>{wt({dispatch:s,query:n,history:a,filters:Pe}),!t&&s(ft())};return e.createElement(e.Fragment,null,t?e.createElement(Ut,{onSubmit:ie}):e.createElement(Sn,{onSubmit:ie}))},yn=()=>e.createElement(st,null,e.createElement(at,{pt:["4","6",null,"8"]},e.createElement(S,{w:"full",spacing:["66px"]},e.createElement(It,null,e.createElement(bn,null)),e.createElement(Mt,null),e.createElement(Ht,null)))),Vn=()=>e.createElement(yn,null);export{Vn as CatalogPage,Vn as default};
