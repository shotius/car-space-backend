import{r as s,i as g,u as j,R as t,L as l}from"./vendor.576a7237.js";import{u as y,a as u,b as w,s as I,C as p,H as d,V as k,B as C,T as D}from"./index.96394f1d.js";import"./prop-types.d6ec705b.js";import"./react-redux.0b249e8a.js";import"./axios.7b768d2b.js";import"./formik.30c45d87.js";import"./yup.df40d5b6.js";import"./focus-visible.c4e3ef79.js";const V=({})=>{const[a,c]=s.exports.useState(null),[f,n]=s.exports.useState("Failed To Activate"),[m,o]=s.exports.useState(!1),{hash:h}=g(),S=y(),r=u(e=>e.userInfoSlice.role),i=u(e=>e.userInfoSlice.isAuthenticated),v=j(),[x,E]=s.exports.useState(5),[A,b]=s.exports.useState(!1);return s.exports.useEffect(()=>{i&&(b(!0),setTimeout(()=>v.replace(`/${r}/dashboard`),5e3),setInterval(()=>E(e=>e-1),1e3))},[i]),s.exports.useEffect(()=>{o(!0),w.verifyAccount(h).then(({results:e})=>{c(!0),n(""),o(!1),localStorage.setItem("USER_ROLE",e.role),S(I(e))}).catch(e=>{c(!1),o(!1),n(e.response.data.error)})},[]),m?t.createElement(p,{h:"90vh"},t.createElement(d,null,"Activating...")):t.createElement(p,{h:"90vh"},t.createElement(k,null,t.createElement(d,{color:a?"autoOrange.500":"red",fontSize:["24px","32px",null,"48px"]},a?"Account activated successfully!":f||"Failed to Activate"),t.createElement(C,{variant:"link",color:"black"},r?t.createElement(l,{to:`/${r}/dashboard`},"go to profile"):t.createElement(l,{to:"/home"},"go to home")),A&&t.createElement(D,null,"redirecting in ",t.createElement("span",{style:{color:"red"}},x)," ","seconds")))};export{V as AccountActivation,V as default};
