(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{176:function(e,t,n){},177:function(e,t,n){},178:function(e,t,n){"use strict";n.r(t);var c={};n.r(c),n.d(c,"AdminPage",(function(){return S})),n.d(c,"DealerDashboard",(function(){return L})),n.d(c,"Home",(function(){return be})),n.d(c,"Login",(function(){return ve})),n.d(c,"CatalogPage",(function(){return Ce}));var r,a,i,o=n(1),s=n(69),l=n.n(s),j=n(14),b=n(15),d=n(66),u=function(){return Object(d.b)()},h=d.c;!function(e){e.ADMIN="admin",e.DEALER="dealer"}(r||(r={})),function(e){e.GEL="L Gel",e.USD="$ Usd",e.EUR="\u20ac Eur"}(a||(a={})),function(e){e.ENG="Eng",e.GE="Geo"}(i||(i={}));var x=[{roles:[],view:"Home",path:"/home",isPrivate:!1,exact:!0},{roles:[r.ADMIN],view:"AdminPage",path:"/admin/dashboard",isPrivate:!0,exact:!0},{roles:[r.DEALER],view:"DealerDashboard",path:"/dealer/dashboard",isPrivate:!0,exact:!0},{roles:[],view:"Login",path:"/login",isPrivate:!1,isAuth:!0,exact:!0},{roles:[],view:"CatalogPage",exact:!0,isPrivate:!1,isAuth:!1,path:"/catalog"}],O=n(208),p=n(41),g=n.n(p),f=n(56),m=n(54),v=n(113),y=n.n(v).a.create({withCredentials:!0}),w={autoLogin:function(){var e=Object(f.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.get("/api/me");case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},C=Object(m.b)("auth/login",function(){var e=Object(f.a)(g.a.mark((function e(t,n){var c,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.rejectWithValue,e.prev=1,e.next=4,y.post("/api/login",t,{withCredentials:!0});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:if(e.prev=8,e.t0=e.catch(1),!e.t0.response){e.next=15;break}return console.log(e.t0.response),e.abrupt("return",c(e.t0.response.data.error));case 15:return e.abrupt("return",c(e.t0.message));case 16:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),k=Object(m.b)("auth/logout",function(){var e=Object(f.a)(g.a.mark((function e(t,n){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.rejectWithValue,e.prev=1,e.next=4,y.get("/api/logout");case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!e.t0.response){e.next=13;break}return console.log(e.t0.response),e.abrupt("return",c(e.t0.response));case 13:return e.abrupt("return",c(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()),E=Object(m.b)("auth/autoLogin",Object(f.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.autoLogin();case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))),A=Object(m.c)({name:"auth",initialState:{loading:!1,error:null,role:null,isAuthenticated:!1,username:""},reducers:{},extraReducers:function(e){e.addCase(C.pending,(function(e,t){e.loading=!0})),e.addCase(C.fulfilled,(function(e,t){localStorage.setItem("USER_ROLE",t.payload.role),e.role=t.payload.role,e.loading=!1,e.isAuthenticated=!0})),e.addCase(C.rejected,(function(e,t){e.error=String(t.payload),e.loading=!1,e.isAuthenticated=!1})),e.addCase(k.fulfilled,(function(e,t){console.log("logout fullfilled"),localStorage.removeItem("USER_ROLE"),e.role=null,e.isAuthenticated=!1})),e.addCase(k.rejected,(function(e,t){e.error=String(t.payload),e.isAuthenticated=!0})),e.addCase(E.pending,(function(e){e.loading=!0})),e.addCase(E.fulfilled,(function(e,t){e.loading=!1,e.isAuthenticated=t.payload.isAuthenticated,e.role=t.payload.role,e.username=t.payload.username})),e.addCase(E.rejected,(function(e){e.isAuthenticated=!1}))}}).reducer,R=n(2),S=function(){var e=u(),t=Object(b.g)();return Object(R.jsxs)("div",{children:[Object(R.jsx)(O.a,{onClick:function(){e(k()).then((function(){return t.push("/login")}))},children:"logout"}),Object(R.jsx)(O.a,{onClick:function(){y.get("/api/me").then((function(e){return console.log(e)}))},children:"Me"}),Object(R.jsx)("h1",{style:{textAlign:"center"},children:"Admin page"})]})},L=function(){return Object(R.jsx)("h1",{children:"Dealer dashboard"})},I=n(202),z=n(195),G=n(9),P=n(196),W=n(210),D=n(115),U=n.n(D);n(174),n(175),n(176);function B(e){var t=e.style,n=e.onClick;return Object(R.jsx)(O.a,{style:Object(G.a)(Object(G.a)({},t),{},{display:"block",position:"absolute",top:"200px",right:"20px"}),onClick:n,children:"Next"})}function H(e){var t=e.style,n=e.onClick;return Object(R.jsx)(O.a,{style:Object(G.a)(Object(G.a)({},t),{},{left:"10px",top:"200px",zIndex:"9"}),onClick:n,children:"prev"})}var N=function(){var e={speed:500,nextArrow:Object(R.jsx)(B,{}),prevArrow:Object(R.jsx)(H,{}),infinite:!0,slidesToScroll:1,fade:!0,autoplay:!0,autoplaySpeed:5e4};return Object(R.jsx)(z.a,{w:"full",mt:"-20px",children:Object(R.jsxs)(U.a,Object(G.a)(Object(G.a)({},e),{},{children:[Object(R.jsx)(z.a,{bgImage:"https://media.wired.com/photos/5d09594a62bcb0c9752779d9/master/pass/Transpo_G70_TA-518126.jpg",bgPosition:"center",bgRepeat:"no-repeat",objectFit:"cover",h:"410px",zIndex:"1",w:"full",borderRadius:"50px"}),Object(R.jsx)(z.a,{h:"410px",borderRadius:"50px",zIndex:"1",children:Object(R.jsx)(P.a,{h:"full",children:Object(R.jsx)(W.a,{src:"https://i.insider.com/550cbf03ecad04de2c7c008a?width=1200&format=jpeg",alt:"orange car",borderRadius:"50px",h:"full"})})})]}))})},M=n(198),T=n(199),_=n(200),F=n(197),V=n(21),J=function(e){var t=e.height,n=Object(V.a)(e,["height"]);return Object(R.jsx)(P.a,{height:t,children:Object(R.jsx)(F.a,Object(G.a)({orientation:"vertical"},n))})},Y=n(181),$=n(63),q=function(e){var t=Object.assign({},e);return Object(R.jsxs)(O.a,Object(G.a)(Object(G.a)({variant:"solid",colorScheme:"orange",flex:"1",fontWeight:"light"},t),{},{children:[Object(R.jsx)(Y.a,{as:$.b,mr:"1.5"})," Search"]}))},K=function(){return Object(R.jsx)(P.a,{mt:"-60px",position:"relative",children:Object(R.jsxs)(M.a,{maxW:"2xl",bg:"blue.800",px:"8",py:"6",mb:"4",borderRadius:"15px",children:[Object(R.jsxs)(T.a,{size:"lg",bg:"white",borderRadius:"md",p:"2",flexWrap:"wrap",children:[Object(R.jsxs)(_.a,{placeholder:"Brand",border:"none",flexBasis:{base:"100%",md:"25%"},children:[Object(R.jsx)("option",{value:"value",children:"brand"}),Object(R.jsx)("option",{value:"value",children:"brand"}),Object(R.jsx)("option",{value:"value",children:"brand"})]}),Object(R.jsx)(J,{height:"40px",display:["none","none","block"],borderColor:"gray.300"}),Object(R.jsx)(F.a,{display:["block","block","none"],borderColor:"gray.300"}),Object(R.jsxs)(_.a,{placeholder:"Model",border:"none",flexBasis:{base:"100%",md:"25%"},children:[Object(R.jsx)("option",{value:"value",children:"model"}),Object(R.jsx)("option",{value:"value",children:"model"}),Object(R.jsx)("option",{value:"value",children:"model"})]}),Object(R.jsx)(J,{height:"40px",display:["none","none","block"],borderColor:"gray.300"}),Object(R.jsx)(F.a,{display:["block","block","none"],borderColor:"gray.300"}),Object(R.jsxs)(_.a,{placeholder:"Year",border:"none",flexBasis:{md:"25%"},children:[Object(R.jsx)("option",{value:"value",children:"year"}),Object(R.jsx)("option",{value:"value",children:"year"}),Object(R.jsx)("option",{value:"value",children:"year"})]}),Object(R.jsx)(q,{display:["none","none","block"]})]}),Object(R.jsx)(q,{display:["block","block","none"],w:"full",mt:"2"})]})})},Q=n(209),X=n(201),Z=function(e){var t=e.children,n=Object(V.a)(e,["children"]);return Object(R.jsx)(X.a,Object(G.a)(Object(G.a)({},n),{},{children:t}))},ee=function(){return Object(R.jsx)(z.a,{as:"footer",p:12,pb:"40",minH:"100px",bg:"#e8e8e8",mt:"auto",children:Object(R.jsxs)(T.a,{justifyContent:"space-between",maxW:"6xl",direction:["column","column","row"],children:[Object(R.jsxs)(Q.b,{children:[Object(R.jsx)(I.a,{children:"Logo"}),Object(R.jsx)(z.a,{children:"Icons"})]}),Object(R.jsxs)(Q.b,{alignItems:"flex-start",spacing:0,mb:"6",children:[Object(R.jsx)(Z,{fontWeight:"bold",mb:"4",children:"Services"}),Object(R.jsx)(Z,{children:Object(R.jsx)(j.b,{to:"/services",children:"Services"})}),Object(R.jsx)(Z,{children:"info@example.com"})]}),Object(R.jsxs)(Q.b,{alignItems:"flex-start",spacing:0,mb:"6",children:[Object(R.jsx)(Z,{fontWeight:"bold",mb:"4",children:"Contact"}),Object(R.jsx)(Z,{children:"Address"}),Object(R.jsx)(Z,{children:"+995 12123123"}),Object(R.jsx)(Z,{children:"info@example.com"})]}),Object(R.jsxs)(Q.b,{alignItems:"flex-start",spacing:0,mb:"6",children:[Object(R.jsx)(Z,{fontWeight:"bold",mb:"4",children:"Legal"}),Object(R.jsx)(Z,{children:Object(R.jsx)(j.b,{to:"/privacy",children:"Privacy Policy"})}),Object(R.jsx)(Z,{children:Object(R.jsx)(j.b,{to:"/terms",children:"Terms & conditions"})})]})]})})},te=n(5),ne=n(211),ce=function(e){var t=e.icon,n=Object(V.a)(e,["icon"]);return Object(R.jsx)(O.a,Object(G.a)(Object(G.a)({"aria-label":"person profile",bg:"white",onClick:n.onClick},n),{},{children:Object(R.jsx)(Y.a,{as:t,boxSize:n.boxSize})}))},re=function(e){var t=e.heading,n=e.to,c=e.onClick;return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)(T.a,{justifyContent:"space-between",alignContent:"center",px:"4",onClick:c,children:[Object(R.jsx)(j.b,{to:n,children:t}),">"]}),Object(R.jsx)(F.a,{})]})},ae=n(95),ie=n(206),oe=function(e){var t=e.isOpen,n=e.onClose,c=e.onOpen,r=e.currency,i=e.setCurrency;return Object(R.jsxs)(ie.a,{isOpen:t,onOpen:c,onClose:n,placement:"bottom",children:[Object(R.jsx)(ie.e,{children:Object(R.jsx)(X.a,{cursor:"pointer",w:"50px",children:r})}),Object(R.jsxs)(ie.d,{w:"80px",outline:"none",children:[Object(R.jsx)(ie.b,{}),Object(R.jsx)(ie.c,{children:Object(R.jsxs)(Q.b,{spacing:1,children:[Object(R.jsx)(O.a,{borderRadius:"none",bg:"white",onClick:function(){i(a.EUR),n()},children:a.EUR}),Object(R.jsx)(O.a,{borderRadius:"none",bg:"white",onClick:function(){i(a.USD),n()},children:a.USD}),Object(R.jsx)(O.a,{borderRadius:"none",bg:"white",onClick:function(){i(a.GEL),n()},children:a.GEL})]})})]})]})},se=function(e){var t=e.isOpen,n=e.onClose,c=e.onOpen,r=e.lang,a=e.setLanguage;return Object(R.jsxs)(ie.a,{isOpen:t,onOpen:c,onClose:n,placement:"bottom",children:[Object(R.jsx)(ie.e,{children:Object(R.jsxs)(X.a,{cursor:"pointer",w:"60px",children:[Object(R.jsx)(Y.a,{})," ",r]})}),Object(R.jsxs)(ie.d,{w:"70px",outline:"none",children:[Object(R.jsx)(ie.b,{}),Object(R.jsx)(ie.c,{children:Object(R.jsxs)(Q.b,{spacing:1,children:[Object(R.jsx)(O.a,{borderRadius:"none",bg:"white",onClick:function(){a(i.ENG),n()},children:i.ENG}),Object(R.jsx)(O.a,{borderRadius:"none",bg:"white",onClick:function(){a(i.GE),n()},children:i.GE})]})})]})]})},le=function(){var e=Object(o.useState)(!1),t=Object(te.a)(e,2),n=t[0],c=t[1],r=Object(o.useState)(a.EUR),s=Object(te.a)(r,2),l=s[0],b=s[1],d=Object(o.useState)(i.ENG),u=Object(te.a)(d,2),h=u[0],x=u[1],p=Object(ne.a)(),g=p.onOpen,f=p.onClose,m=p.isOpen,v=Object(ne.a)(),y=v.onOpen,w=v.onClose,C=v.isOpen;return Object(R.jsxs)(M.a,{maxW:"8xl",zIndex:"13",boxShadow:n?"md":"none",h:"full",children:[Object(R.jsxs)(T.a,{h:"full",alignItems:"center",zIndex:"10",children:[Object(R.jsx)(z.a,{cursor:"pointer",children:Object(R.jsx)(j.b,{to:"/home",children:"Logo"})}),Object(R.jsxs)(Q.a,{ml:"auto",display:["none","none","flex"],spacing:"4",children:[Object(R.jsx)(j.b,{to:"/catalog",children:"Catalog"}),Object(R.jsx)(j.b,{to:"/services",children:"Services"}),Object(R.jsx)(j.b,{to:"/blog",children:"Blog"}),Object(R.jsx)(J,{height:"35px",borderColor:"gray.500"}),Object(R.jsx)(oe,{isOpen:m,onClose:f,onOpen:g,currency:l,setCurrency:function(e){return b(e)}}),Object(R.jsx)(se,{isOpen:C,onClose:w,onOpen:y,lang:h,setLanguage:function(e){return x(e)}}),Object(R.jsx)(J,{height:"35px",borderColor:"gray.500"}),Object(R.jsx)(O.a,{variant:"ghost",fontWeight:"light",children:Object(R.jsx)(j.b,{to:"/login",children:"Log in"})}),Object(R.jsxs)(O.a,{variant:"outline",fontWeight:"light",children:[Object(R.jsx)(Y.b,{as:$.a,mr:"1"})," Register"]})]}),Object(R.jsxs)(Q.a,{ml:"auto",display:["flex","flex","none"],children:[Object(R.jsx)(ce,{icon:$.a}),Object(R.jsx)(ce,{icon:ae.b,onClick:function(){return c(!0)},display:n?"none":"inline-block"}),Object(R.jsx)(ce,{icon:ae.a,display:n?"block":"none",onClick:function(){return c(!1)}})]})]}),Object(R.jsxs)(Q.b,{position:"fixed",display:n?"block":"none",h:"100vh",w:"100vw",top:"50px",left:"0",bg:"white",px:"4",pt:"3",zIndex:"-1",children:[Object(R.jsx)(re,{heading:"Catalog",to:"/catalog",onClick:function(){return c(!1)}}),Object(R.jsx)(re,{heading:"Services",to:"/services"}),Object(R.jsx)(re,{heading:"Blog",to:"/blog"}),Object(R.jsx)(re,{heading:"MiniCategory",to:"/miniCategory"}),Object(R.jsx)(re,{heading:"Top Brands",to:"/topBrands"}),Object(R.jsx)(re,{heading:"Dealers",to:"/dealers"}),Object(R.jsx)(re,{heading:"Contact",to:"/contact"}),Object(R.jsxs)(Q.a,{justifyContent:"space-around",pt:"4",spacing:"2",children:[Object(R.jsx)(O.a,{w:"40%",children:Object(R.jsx)(Y.b,{})}),Object(R.jsx)(O.a,{w:"40%",children:" GEL"})]})]})]})},je=function(e){var t=e.children;return Object(R.jsxs)(z.a,{w:"full",direction:"column",minH:"100vh",children:[Object(R.jsx)(z.a,{position:"sticky",h:["50px","60px"],top:"0",bg:"white",zIndex:"10",boxShadow:"md",children:Object(R.jsx)(le,{})}),Object(R.jsx)(M.a,{maxW:"8xl",bg:"#f4f4f5",minH:"200vh",children:t}),Object(R.jsx)(ee,{})]})},be=function(){return Object(R.jsxs)(je,{children:[Object(R.jsx)(N,{}),Object(R.jsx)(K,{}),Object(R.jsx)(z.a,{h:"2xs",bg:"gray.300",children:Object(R.jsx)(I.a,{size:"md",children:"Mini Catalog"})}),Object(R.jsx)(z.a,{h:"sm",bg:"gray.300",my:"3",children:Object(R.jsx)(I.a,{size:"md",children:"Catalog"})}),Object(R.jsx)(z.a,{h:"xs",bg:"gray.400",my:"3",children:Object(R.jsx)(I.a,{size:"md",children:"Customer Reviews"})})]})},de=function(e){var t=e.variant,n=e.children,c=Object(V.a)(e,["variant","children"]);return Object(R.jsx)(M.a,Object(G.a)(Object(G.a)({maxW:"regular"===t?"700px":"350px"},c),{},{children:n}))},ue=n(52),he=n(203),xe=n(204),Oe=n(205),pe=n(65),ge=function(e){var t=e.label,n=(e.size,Object(V.a)(e,["label","size"])),c=Object(pe.c)(n),r=Object(te.a)(c,2),a=r[0],i=r[1].error;return Object(R.jsxs)(ue.a,{isInvalid:!!i,children:[Object(R.jsx)(he.a,{htmlFor:a.name,children:t}),Object(R.jsx)(xe.a,Object(G.a)(Object(G.a)({},a),n)),i?Object(R.jsx)(Oe.a,{children:i}):null]})},fe=function(){var e=u();return Object(R.jsx)(pe.b,{initialValues:{username:"",password:""},onSubmit:function(t){var n={username:t.username,password:t.password};e(C(n))},children:function(){return Object(R.jsxs)(pe.a,{children:[Object(R.jsx)(I.a,{w:"full",textAlign:"center",mb:4,children:"Login"}),Object(R.jsxs)(Q.b,{spacing:4,children:[Object(R.jsx)(ge,{name:"username",label:"Username",placeholder:"username"}),Object(R.jsx)(ge,{name:"password",label:"Password",placeholder:"password",type:"password"}),Object(R.jsx)(O.a,{variant:"solid",w:"full",colorScheme:"blue",type:"submit",children:"Login"}),Object(R.jsxs)(T.a,{color:"gray.500",as:"sub",children:[Object(R.jsx)(X.a,{children:"if you aren't car dealer or an admin go to "}),Object(R.jsx)(X.a,{color:"blue.500",as:"u",pl:1,children:Object(R.jsx)(j.b,{to:"/home",children:"Home"})})]})]})]})}})},me=function(){return Object(R.jsx)(P.a,{h:"100vh",children:Object(R.jsx)(de,{variant:"small",children:Object(R.jsx)(fe,{})})})},ve=function(){return Object(R.jsx)(me,{})},ye=function(){var e=Object(o.useState)([]),t=Object(te.a)(e,2),n=t[0],c=t[1];return Object(o.useEffect)((function(){return y.get("/api/cars").then((function(e){var t=e.data;c(t)})),function(){c([])}}),[]),Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(K,{}),n.map((function(e){return Object(R.jsxs)(z.a,{children:[Object(R.jsx)(Z,{children:e.make}),Object(R.jsx)("img",{src:"https://".concat(e.imgThumb),alt:"car"})]},e._id)}))]})},we=function(){return Object(R.jsxs)(je,{children:[Object(R.jsx)(I.a,{textAlign:"center",padding:"6",children:"Catalog"}),Object(R.jsx)(ye,{})]})},Ce=function(){return Object(R.jsx)(we,{})},ke=function(e){var t=e.component,n=Object(V.a)(e,["component"]),c=h((function(e){return e.authReducer})).isAuthenticated;return Object(R.jsx)(b.b,Object(G.a)(Object(G.a)({},n),{},{children:c?Object(R.jsx)(t,{}):Object(R.jsx)(b.a,{to:"/login"})}))},Ee=function(e){var t=e.component,n=Object(V.a)(e,["component"]),c=h((function(e){return e.authReducer})),r=c.isAuthenticated,a=c.role;return Object(R.jsx)(b.b,Object(G.a)(Object(G.a)({},n),{},{children:r?Object(R.jsx)(b.a,{to:"/".concat(a,"/dashboard")}):Object(R.jsx)(t,{})}))},Ae=function(e){var t=e.component,n=Object(V.a)(e,["component"]);return Object(R.jsx)(b.b,Object(G.a)(Object(G.a)({},n),{},{children:Object(R.jsx)(t,{})}))},Re=(n(177),function(){return Object(R.jsxs)(z.a,{bg:"yellow.100",h:"100vh",children:[Object(R.jsxs)("ul",{children:[Object(R.jsx)("li",{children:Object(R.jsx)(j.b,{to:"/home",children:"Home"})}),Object(R.jsx)("li",{children:Object(R.jsx)(j.b,{to:"/login",children:"Login"})})]}),Object(R.jsx)(I.a,{textAlign:"center",children:"Error page"})]})});var Se=function(){var e=h((function(e){return e.authReducer})),t=e.role,n=e.loading,r=u();return Object(o.useEffect)((function(){r(E())}),[r]),n?Object(R.jsx)("h1",{children:"...loading"}):Object(R.jsx)(j.a,{children:Object(R.jsxs)(b.d,{children:[Object(R.jsx)(b.b,{path:"/",exact:!0,children:Object(R.jsx)(b.a,{to:"/home"})}),x.filter((function(e){var n=e.roles;return!!(n&&0===n.length||t&&n.includes(t))})).map((function(e){var t=e.path,n=e.view,r=e.isPrivate,a=e.exact,i=e.isAuth,o=c[n];return r?Object(R.jsx)(ke,{path:t,component:o,exact:a},t):i?Object(R.jsx)(Ee,{path:t,component:o,exact:a},t):Object(R.jsx)(Ae,{path:t,component:o,exact:a},t)})),Object(R.jsx)(b.b,{children:Object(R.jsx)(Re,{})})]})})},Le={authReducer:A},Ie=Object(m.a)({reducer:Le}),ze=n(207);l.a.render(Object(R.jsx)(d.a,{store:Ie,children:Object(R.jsx)(ze.a,{children:Object(R.jsx)(Se,{})})}),document.getElementById("root"))}},[[178,1,2]]]);
//# sourceMappingURL=main.73c22094.chunk.js.map